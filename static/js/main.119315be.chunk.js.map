{"version":3,"sources":["state/constants.js","state/actionTypes.js","state/selectors.js","state/reducers/segments.js","state/reducers/total.js","state/reducers/index.js","state/store.js","state/actions.js","utils/utils.js","state/middlewares.js","components/Input/hooks/useInput.js","components/Input/components/DistanceInput.js","components/Input/components/FieldType.js","static/increase_icon.svg","components/Input/components/BasicInput.js","components/Input/components/PaceInput.js","components/Input/components/SpeedInput.js","components/Input/components/StyledInputWrapper.js","components/Input/components/StyledSeparator.js","styles/common.js","styles/globalStyles.js","components/Input/components/StyledUnit.js","components/Input/components/TimeInput.js","components/Input/Input.js","components/Output.js","static/pencil_icon.svg","components/Segment/components/StyledActionButton.js","components/Segment/components/SegmentName.js","static/fold_icon.svg","static/delete_icon.svg","static/arrow_icon.svg","components/Segment/Segment.js","components/StatConverter.js","components/Total.js","index.js","styles/theme.js"],"names":["PACE","SPEED","TIME","DISTANCE","SET_INPUT_FIELD","SET_VALUE","SET_TOTAL","TOGGLE_FOLD","ADD_SEGMENT","REMOVE_SEGMENT","MOVE_SEGMENT","RENAME_SEGMENT","getFieldValue","state","segmentId","fieldType","fieldValue","Array","isArray","segments","forEach","segment","id","value","getOtherFieldType","otherFieldType","inputs","getSegmentById","segmentToReturn","getTotalField","type","total","Object","assign","unit","nextId","getAllValues","map","getSegmentIndex","segmentIndex","index","defaultSegment","name","min","sec","h","folded","createSegment","newSegment","cloneDeep","defaultState","combineReducers","action","currentSegment","payload","newInputs","from","oldField","newField","field","filter","direction","length","nextState","segmentToMove","splice","nextSegmentIndex","newState","speed","pace","time","distance","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","rootReducer","applyMiddleware","thunk","setValue","isSpeedValid","numericSpeed","Number","isNaN","Error","e","isPaceValid","isInteger","isTimeValid","isDistanceValid","numericDistance","convertSpeedToPace","numericPace","Math","floor","round","getParsedPace","convertPaceToSpeed","getNumericPace","stringifySpeed","parseFloat","toFixed","stringifyDistance","getNumericTime","getParsedTime","numericTime","calculateDistance","calculateTime","calculateSpeed","dispatchTotal","dispatch","getState","distances","numericTimes","totalDistance","reduce","acc","val","totalParsedTime","totalSpeed","totalPace","dispatchNewSegment","dispatchDeleteSegment","removeSegment","useInput","initialValue","dispatchHandler","nbDecimals","maxValue","padStart","overflowHandler","padValue","String","useState","displayedValue","setDisplayedValue","typedValue","Function","onChange","target","replaceAll","trim","parsedValue","separatorPosition","indexOf","onIncrement","step","join","nextValue","onDecrement","forceValue","DistanceInput","dispatchValue","width","propType","PropType","number","isRequired","func","connect","ownProps","pinnedType","currentSpeed","currentTime","dispatchDistance","fieldLabelMap","arrowAnimation","keyframes","SelectContainer","styled","div","theme","color","mediumGrey","lightGrey","secondary","Select","select","body","_path","dispatchField","setInputField","options","optionComponents","option","toLowerCase","_extends","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgIncreaseIcon","_ref","svgRef","title","titleId","props","xmlns","height","viewBox","ref","d","transform","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","ForwardRef","underlineStyle","css","Wrapper","Input","input","Controls","ButtonContainer","button","ReversedButtonContainer","BasicInput","onKeyDown","preventDefault","onClick","style","PaceInput","paceField","minHandler","secHandler","side","exact","dispatchPace","dispatchSpeed","StyledInputWrapper","StyledSeparator","span","UnitStyle","heavyGrey","StyledUnit","dispatchTime","speedField","hHandler","InputContainer","inputMap","SpeedInput","TimeInput","React","createElement","Container","Box","Label","Result","Value","Unit","content","stringifiedValue","label","stringifyTime","StyledActionButton","white","hoverColor","hoverStrokeColor","SvgPencilIcon","TitleStyle","Title","h3","primary","Placeholder","EditActionZone","ActionButton","bp","sm","ActionIcon","svg","PencilIcon","withComponent","PencilIconSvg","_g","position","dispatchName","isEditing","setIsEditing","inputRef","useRef","wrapperRef","useEffect","fakeInput","document","setAttribute","opacity","fontSize","current","append","focus","setTimeout","selectionStart","selectionEnd","remove","displayedName","event","onBlur","blur","readOnly","maxLength","aria-hidden","className","aria-label","SvgFoldIcon","x2","SvgDeleteIcon","y1","y2","SvgArrowIcon","showActionButtons","Core","md","H4","h4","Summary","darkGrey","OutputsContainer","FoldButton","FoldIconContainer","FoldIconStyle","InputsContainer","ActionZone","DeleteIcon","error","DeleteIconSvg","ArrowIcon","ArrowIconSvg","ReversedArrowIcon","canMoveUp","canMoveDown","toggleFold","move","moveSegment","moveUpRef","moveDownRef","otherInput","inputComponents","disabled","Main","main","Body","H1","h1","H2","h2","Subtitle","P","p","SegmentsContainer","AddButtonContainer","AddButton","segmentIds","addSegment","segmentComponents","flipId","flipKey","ScrollZone","Total","rootElement","getElementById","ReactDOM","render","store","styles","globalStyles","emotionNormalize","background","xs","lg","xl"],"mappings":"+OAAaA,EACL,OADKA,EAEJ,SAFIA,EAGL,SAGKC,EACL,QADKA,EAEJ,UAFIA,EAGL,OAGKC,EACL,OADKA,EAEJ,QAFIA,EAGL,WAGKC,EACL,WADKA,EAEJ,WAFIA,EAGL,KCrBKC,EAAkB,kBAClBC,EAAY,YACZC,EAAY,YACZC,EAAc,cACdC,EAAc,cACdC,EAAiB,iBACjBC,EAAe,eACfC,EAAiB,iB,QCPvB,SAASC,EAAcC,EAAOC,EAAWC,GAC9C,IAAIC,EAAa,KAcjB,OAZIC,MAAMC,QAAQL,EAAMM,WACtBN,EAAMM,SAASC,SAAQ,SAACC,GACtB,GAAIA,EAAQC,KAAOR,EAAW,CAC5B,IAAKO,EAAQN,GAAY,OACzB,IAAMQ,EAAQF,EAAQN,GAAWQ,MAE/BP,EADmB,kBAAVO,EACC,eAAQA,GAELA,MAIdP,EAGF,SAASQ,EAAkBX,EAAOC,EAAWC,GAClD,IAAIU,EAAiB,KAWrB,OAVIR,MAAMC,QAAQL,EAAMM,WACtBN,EAAMM,SAASC,SAAQ,SAACC,GAClBA,EAAQC,KAAOR,IACbC,IAAcM,EAAQK,OAAO,GAC/BD,EAAiBJ,EAAQK,OAAO,GACvBX,IAAcM,EAAQK,OAAO,KACtCD,EAAiBJ,EAAQK,OAAO,QAIjCD,EAGF,SAASE,EAAed,EAAOC,GACpC,IAAIc,EAAkB,KAOtB,OANIX,MAAMC,QAAQL,EAAMM,WACtBN,EAAMM,SAASC,SAAQ,SAACC,GAClBA,EAAQC,KAAOR,IACjBc,EAAe,eAAQP,OAGtBO,EAGF,SAASC,EAAchB,EAAOiB,GACnC,IAAIP,EAAQV,EAAMkB,MAAMD,GAAMP,MACT,kBAAVA,IACTA,EAAQS,OAAOC,OAAO,GAAIpB,EAAMkB,MAAMD,GAAMP,QAE9C,IAAMW,EAAOrB,EAAMkB,MAAMD,GAAMI,KAC/B,OAAOF,OAAOC,OAAO,GAAI,CAAEV,MAAOA,EAAOW,KAAMA,IAG1C,ICxCHC,EDwCSC,EAAe,SAACvB,EAAOiB,GAAR,OAC1BjB,EAAMM,SAASkB,KAAI,SAAChB,GAAD,MACQ,qBAAlBA,EAAQS,GAAwBT,EAAQS,GAAMP,MAAQ,SAG1D,SAASe,EAAgBzB,EAAOS,GACrC,IAAIiB,EAAe,KAInB,OAHA1B,EAAMM,SAASC,SAAQ,SAACC,EAASmB,GAC3BnB,EAAQC,KAAOA,IAAIiB,EAAeC,MAEjCD,EChDT,IAAME,EAAiB,CACrBnB,GAAI,KACJoB,KAAM,KACNhB,OAAQ,CAACzB,EAAYC,GACrB,CAACD,GAAa,CACZsB,MAAO,GACPW,KAAMjC,GAER,CAACD,GAAY,CACXuB,MAAO,CAAEoB,IAAK,EAAGC,IAAK,GACtBV,KAAMlC,GAER,CAACE,GAAY,CAAEqB,MAAO,CAAEsB,EAAG,EAAGF,IAAK,EAAGC,IAAK,GAAKV,KAAMhC,GACtD,CAACC,GAAgB,CAAEoB,MAAO,GAAIW,KAAM/B,GACpC2C,QAAQ,GAGJC,EAAgB,WACpB,IAAMC,EAAaC,oBAAUR,GAE7B,OADAO,EAAW1B,GAAKa,IACTa,GChCT,IAAME,EAAe,CACnB,CAACjD,GAAa,CACZsB,MAAO,GACPW,KAAMjC,GAER,CAACD,GAAY,CACXuB,MAAO,CAAEoB,IAAK,EAAGC,IAAK,GACtBV,KAAMlC,GAER,CAACE,GAAY,CAAEqB,MAAO,CAAEsB,EAAG,EAAGF,IAAK,EAAGC,IAAK,GAAKV,KAAMhC,GACtD,CAACC,GAAgB,CAAEoB,MAAO,GAAIW,KAAM/B,ICTvBgD,kBAAgB,CAC7BhC,SFiCa,SAAkBN,EAAOuC,GAMtC,OALqB,qBAAVvC,IACTsB,EAAS,EACTtB,EAAQ,CAACkC,MAGHK,EAAOtB,MACb,KAAK1B,EACH,OAAOS,EAAMwB,KAAI,SAACgB,GAChB,GAAIA,EAAe/B,KAAO8B,EAAOE,QAAQxC,UAAW,CAClD,IAAMyC,EAAYtC,MAAMuC,KAAKH,EAAe3B,QAM5C,OALI6B,EAAU,KAAOH,EAAOE,QAAQG,SAClCF,EAAU,GAAKH,EAAOE,QAAQI,SACrBH,EAAU,KAAOH,EAAOE,QAAQG,WACzCF,EAAU,GAAKH,EAAOE,QAAQI,UAEzB1B,OAAOC,OAAO,GAAIoB,EAAgB,CACvC3B,OAAQ6B,IAGZ,OAAOF,KAEX,KAAKhD,EACH,OAAOQ,EAAMwB,KAAI,SAACgB,GAChB,OAAIA,EAAe/B,KAAO8B,EAAOE,QAAQxC,WACa,qBAAzCuC,EAAeD,EAAOE,QAAQK,OAChC3B,OAAOC,OAAO,GAAIoB,EAAgB,CACvC,CAACD,EAAOE,QAAQK,OAAQ3B,OAAOC,OAC7B,GACAoB,EAAeD,EAAOE,QAAQK,OAC9B,CACEpC,MAAO6B,EAAOE,QAAQ/B,UAKzB8B,KAEX,KAAK9C,EACH,OAAOM,EAAMwB,KAAI,SAAChB,GAChB,OAAIA,EAAQC,KAAO8B,EAAOE,QAAQxC,UACzBkB,OAAOC,OAAO,GAAIZ,EAAS,CAAEyB,QAASzB,EAAQyB,SAEhDzB,KAEX,KAAKb,EACH,MAAM,GAAN,mBAAWK,GAAX,CAAkBkC,MACpB,KAAKtC,EACH,OAAO,YAAII,GAAO+C,QAChB,SAACvC,GAAD,OAAaA,EAAQC,KAAO8B,EAAOE,QAAQxC,aAE/C,KAAKJ,EAAL,MACmC0C,EAAOE,QAAhCO,EADV,EACUA,UACFtB,EAAeD,EAAgB,CAAEnB,SAAUN,GAFnD,EACqBC,WAEnB,GAAqB,OAAjByB,EAAuB,OAAO1B,EAClC,GAAqB,IAAjB0B,GAAoC,OAAdsB,EAAoB,OAAOhD,EACrD,GAAI0B,GAAgB1B,EAAMiD,OAAS,GAAmB,SAAdD,EACtC,OAAOhD,EACT,IAAMkD,EAAS,YAAOlD,GAChBmD,EAAgBD,EAAUE,OAAO1B,EAAc,GAC/C2B,EACU,OAAdL,EACItB,EAAe,EACD,SAAdsB,EACAtB,EAAe,EACfA,EAEN,OADAwB,EAAUE,OAAV,MAAAF,EAAS,CAAQG,EAAkB,GAA1B,mBAAgCF,KAClCD,EACT,KAAKpD,EACH,OAAOE,EAAMwB,KAAI,SAAChB,GAChB,OAAIA,EAAQC,KAAO8B,EAAOE,QAAQxC,UACzB,2BAAKO,GAAZ,IAAqBqB,KAAMU,EAAOE,QAAQZ,OAErCrB,KAEX,QACE,OAAOR,IE5GXkB,MDUa,WAA8C,IAA/BlB,EAA8B,uDAAtBqC,EAAcE,EAAQ,uCAC1D,OAAQA,EAAOtB,MACb,KAAKxB,EACH,IAAM6D,EAAWnC,OAAOC,OAAO,GAAIpB,GAKnC,OAJAsD,EAASlE,GAAYsB,MAAQ6B,EAAOE,QAAQc,MAC5CD,EAASnE,GAAWuB,MAAQS,OAAOC,OAAO,GAAImB,EAAOE,QAAQe,MAC7DF,EAASjE,GAAWqB,MAAQS,OAAOC,OAAO,GAAImB,EAAOE,QAAQgB,MAC7DH,EAAShE,GAAeoB,MAAQ6B,EAAOE,QAAQiB,SACxCJ,EACT,QACE,OAAOtD,M,QEtBP2D,EAAmBC,OAAOC,sCAAwCC,IAEzDC,cACbC,EACAL,EAAiBM,YAAgBC,O,uBCc5B,SAASC,GAASlE,EAAW6C,EAAOpC,GACzC,MAAO,CACLO,KAAMzB,EACNiD,QAAS,CACPxC,YACA6C,QACApC,UC5BN,SAAS0D,GAAab,GACpB,IACE,IAAMc,EAAeC,OAAOf,GAC5B,IAAKe,OAAOC,MAAMF,IAAiBA,EAAe,EAChD,OAAO,EAEP,MAAM,IAAIG,MAEZ,MAAOC,GACP,OAAO,GAIX,SAASC,GAAYlB,GACnB,IACE,IAAM1B,EAAMwC,OAAOd,EAAK1B,KAClBC,EAAMuC,OAAOd,EAAKzB,KACxB,GACEuC,OAAOK,UAAU7C,IACjBwC,OAAOK,UAAU5C,IACjBD,GAAO,GACPC,GAAO,GACPA,EAAM,IACJD,EAAMC,IAAQ,EAEhB,OAAO,EAET,MAAM,IAAIyC,MACV,MAAOC,GACP,OAAO,GAIX,SAASG,GAAYnB,GACnB,IACE,IAAMzB,EAAIsC,OAAOb,EAAKzB,GAChBF,EAAMwC,OAAOb,EAAK3B,KAClBC,EAAMuC,OAAOb,EAAK1B,KACxB,GACEuC,OAAOK,UAAU3C,IACjBsC,OAAOK,UAAU7C,IACjBwC,OAAOK,UAAU5C,IACjBC,GAAK,GACLF,GAAO,GACPA,EAAM,IACNC,GAAO,GACPA,EAAM,IACJC,EAAIF,EAAMC,IAAQ,EAEpB,OAAO,EAEP,MAAM,IAAIyC,MAEZ,MAAOC,GACP,OAAO,GAIX,SAASI,GAAgBnB,GACvB,IACE,IAAMoB,EAAkBR,OAAOZ,GAC/B,IAAKY,OAAOC,MAAMO,IAAoBA,EAAkB,EACtD,OAAO,EAEP,MAAM,IAAIN,MAEZ,MAAOC,GACP,OAAO,GAyBJ,SAASM,GAAmBxB,GACjC,OAAIa,GAAab,GAfnB,SAAuByB,GACrB,IACE,IAAIlD,EAAMmD,KAAKC,MAAMF,GACjBjD,EAAMkD,KAAKE,MAAOH,EAAc,EAAK,IAKzC,OAJY,KAARjD,IACFA,EAAM,IACJD,GAEG,CAAEA,IAAKA,EAAKC,IAAKA,GACxB,MAAO0C,GACP,OAAO,MAOAW,CADa,GAAKd,OAAOf,GAAS,KAGpC,KAGF,SAAS8B,GAAmB7B,GACjC,OAAIkB,GAAYlB,GAEP,GAhCX,SAAwBA,GACtB,OAAIkB,GAAYlB,GACPc,OAAOd,EAAK1B,KAAOwC,OAAOd,EAAKzB,KAAO,GAExC,KA2BeuD,CAAe9B,GAG9B,KAUF,SAAS+B,GAAehC,GAC7B,OAAIa,GAAab,GACRiC,WAAWjC,GAAOkC,QAAQ,GAE5B,OAaF,SAASC,GAAkBhC,GAChC,OAAImB,GAAgBnB,GACX8B,WAAW9B,GAAU+B,QAAQ,GAE/B,QAGF,SAASE,GAAelC,GAC7B,OAAImB,GAAYnB,GACPa,OAAOb,EAAKzB,GAAKsC,OAAOb,EAAK3B,KAAO,GAAKwC,OAAOb,EAAK1B,KAAO,KAE9D,KAGF,SAAS6D,GAAcC,GAC5B,IACE,IAAI7D,EAAIiD,KAAKC,MAAMW,GACf/D,EAAO+D,EAAc,EAAK,GAC1B/D,EAAM,GAAK,EAAI,KACjBA,EAAM,IACJE,GAEJ,IAAID,EAAMkD,KAAKE,MAAOrD,EAAM,EAAK,IAKjC,OAJY,KAARC,IACFA,EAAM,IACJD,GAEG,CAAEE,EAAGA,EAAGF,IAAKmD,KAAKC,MAAMpD,GAAMC,IAAKA,GAC1C,MAAO0C,GACP,OAAO,MAIJ,SAASqB,GAAkBvC,EAAOE,GACvC,GAAIW,GAAab,IAAUqB,GAAYnB,GAAO,CAC5C,IAAMoC,EAAcF,GAAelC,GACnC,OAAOwB,KAAKE,MAAMb,OAAOf,GAASe,OAAOuB,GAAe,KAAQ,IAElE,OAAO,KAGF,SAASE,GAAcrC,EAAUH,GACtC,OAAIsB,GAAgBnB,IAAaU,GAAab,GAErCqC,GADatB,OAAOZ,GAAYY,OAAOf,IAGzC,KAGF,SAASyC,GAAetC,EAAUD,GACvC,OAAIoB,GAAgBnB,IAAakB,GAAYnB,GAEpCC,EADaiC,GAAelC,GAG9B,KCzKF,IAmFDwC,GAAgB,kBAAM,SAACC,EAAUC,GACrC,IAAMnG,EAAQmG,IACRC,EAAY7E,EAAavB,EAAOV,GAEhC+G,EADc9E,EAAavB,EAAOX,GACPmC,KAAI,SAACiC,GAAD,OAAUkC,GAAelC,MAExD6C,EAAgBF,EAAUG,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,IAAK,MAE1DC,EAAkBd,GADCS,EAAaE,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,IAAK,OAEhEE,EAAaX,GAAeM,EAAeI,GAC3CE,EAAY7B,GAAmB4B,GAErCT,EF9EO,CACLjF,KAAMxB,EACNgD,QAAS,CACPc,ME2EcoD,EF1EdnD,KE0E0BoD,EFzE1BnD,KEyEqCiD,EFxErChD,SEwEsD4C,OAG/CO,GAAqB,kBAAM,SAACX,EAAUC,GACjDD,EF7DO,CACLjF,KAAMtB,EACN8C,QAAS,KE4DXyD,EAASD,QAGEa,GAAwB,SAAC7G,GAAD,OAAe,SAACiG,EAAUC,GAC7DD,EF5DK,SAAuBjG,GAC5B,MAAO,CACLgB,KAAMrB,EACN6C,QAAS,CACPxC,cEwDK8G,CAAc9G,IACvBiG,EAASD,Q,SCjDIe,GAxEE,SAAC,GAOX,IAAD,IANJC,oBAMI,MANW,EAMX,EALJC,EAKI,EALJA,gBAKI,IAJJC,kBAII,MAJS,EAIT,MAHJC,gBAGI,MAHO,GAGP,MAFJC,gBAEI,MAFO,EAEP,EADJC,EACI,EADJA,gBAEMC,EAAW,SAAC7G,GAAD,OACf2G,EAAWG,OAAO9G,GAAO2G,SAASA,EAAU,KAAO3G,GAFjD,EAIwC+G,oBAAS,kBACnDF,EAASN,MALP,oBAIGS,EAJH,KAImBC,EAJnB,KAQEzB,EAAW,SAAC0B,GAEhBD,EADuBC,GAEnBV,aAA2BW,UAAUX,EAAgBU,IA6C3D,MAAO,CACLF,eAAgBA,EAChBI,SA5Ce,SAACrD,GAChB,IAAImD,EAAaJ,OAAO/C,EAAEsD,OAAOrH,OAAOsH,WAAW,IAAK,KAAKC,OACzDC,EAAc1C,WAAWoC,GACzBO,EAAoBP,EAAWQ,QAAQ,KAE3C,IAAI7D,OAAOqD,MACQ,IAAfT,GAAoBgB,GAAqB,MACzCD,EAAcd,GAAlB,CACA,GAAIe,GAAqB,EAAG,CAC1B,GAAmB,IAAfhB,EAAkB,OACtB,GAAIgB,EAAoBP,EAAW3E,QAAUkE,EAAa,GAAI,OAGhEjB,EAAS0B,KAgCTS,YA7BkB,WAClB,IAAMC,EAAO,GAAK,IAAD,OAAKlI,MAAM+G,EAAa,GAAGoB,KAAK,IAC7CC,EAAYhD,YAAYkC,EAAiBY,GAAM7C,QAAQ,GACvD+C,GAAapB,GACfoB,EAAYhD,WAAWgD,GAAW/C,QAAQ0B,GAC1CjB,EAASqB,EAASiB,KACTlB,aAA2BO,UACpCP,EAAgB,SAuBlBmB,YAnBkB,WAClB,IAAMH,EAAO,GAAK,IAAD,OAAKlI,MAAM+G,EAAa,GAAGoB,KAAK,IAC7CC,GAAad,EAAiBY,EAC9BE,GAAa,GACfA,EAAYhD,WAAWgD,GAAW/C,QAAQ0B,GAC1CjB,EAASqB,EAASiB,KACTlB,aAA2BO,UACpCP,EAAgB,UAalBoB,WATiB,SAAChI,GAClBiH,EAAkBjH,M,QClDhBiI,GAAgB,SAAC,GAAyC,IAAvC1I,EAAsC,EAAtCA,UAAWS,EAA2B,EAA3BA,MAAOkI,EAAoB,EAApBA,cAAoB,EAWE5B,GAAS,CACtEC,aAAcvB,GAAkBhF,GAChCwG,gBAZsB,SAACU,GACvB,IACE,IAAIlE,EAAWY,OAAOsD,IAClBlE,EAAW,IAAMA,KAAUA,EAAW,GAC1CkF,EAAc3I,EAAWyD,GACzB,MAAOe,GACP,SAOF0C,WAAY,EACZC,SAAU,QAJJM,EAXqD,EAWrDA,eAAgBI,EAXqC,EAWrCA,SAAUO,EAX2B,EAW3BA,YAAaI,EAXc,EAWdA,YAO/C,OACE,gBAAC,GAAD,WACE,eAAC,GAAD,CACE/H,MAAOgH,EACPI,SAAUA,EACVO,YAAaA,EACbI,YAAaA,EACbI,MAAM,UAER,eAAC,GAAD,UAAavJ,QAKnBqJ,GAAcG,SAAW,CACvB7I,UAAW8I,IAASC,OAAOC,WAC3BvI,MAAOqI,IAASC,OAAOC,WACvBL,cAAeG,IAASG,KAAKD,YAiBhBE,I,SAAAA,gBAdf,SAAyBnJ,EAAOoJ,GAC9B,MAAO,CACL1I,MAAOX,EAAcC,EAAOoJ,EAASnJ,UAAWX,OAIpD,SAA4B4G,GAC1B,MAAO,CACL0C,cAAe,SAAC3I,EAAWS,GACzB,OAAOwF,EFDmB,SAACjG,EAAWyD,GAAZ,OAAyB,SACvDwC,EACAC,GAEA,IAAMnG,EAAQmG,IACRkD,EAAa1I,EAAkBX,EAAOC,EAAWX,GAIvD,GAFA4G,EAAS/B,GAASlE,EAAWX,EAAeoE,IAExC2F,IAAejK,GAAciK,IAAelK,EAAW,CACzD,IAAMmK,EAAevJ,EAAcC,EAAOC,EAAWb,GAC/CqE,EAAOsC,GAAcrC,EAAU4F,GACrCpD,EAAS/B,GAASlE,EAAWZ,EAAWoE,SACnC,GAAI4F,IAAehK,EAAW,CACnC,IAAMkK,EAAcxJ,EAAcC,EAAOC,EAAWZ,GAC9CkE,EAAQyC,GAAetC,EAAU6F,GACjC/F,EAAOuB,GAAmBxB,GAChC2C,EAAS/B,GAASlE,EAAWb,EAAYmE,IACzC2C,EAAS/B,GAASlE,EAAWd,EAAWqE,IAE1C0C,EAASD,OEnBWuD,CAAiBvJ,EAAWS,QAKnCyI,CAA6CR,ICtDtDc,GAAgB,CACpB,CAACrK,GAAaA,EACd,CAACD,GAAYA,EACb,CAACE,GAAYA,EACb,CAACC,GAAgBA,GAyCboK,GAAiBC,oBAAH,gKAUdC,GAAkBC,IAAOC,IAAV,+sBAWG,qBAAGC,MAAkBC,MAAMC,cAE3B,qBAAGF,MAAkBC,MAAME,aAUtC,qBAAGH,MAAkBC,MAAMG,YAYrBT,IAKbU,GAASP,IAAOQ,OAAV,0cAID,qBAAGN,MAAkBC,MAAMM,QA6BvBnB,ICzIXoB,GDyIWpB,eAAQ,MARvB,SAA4BjD,GAC1B,MAAO,CACLsE,cAAe,SAACvK,EAAW6C,EAAOpC,GAChCwF,ELzHC,SAAuBjG,EAAW2C,EAAUC,GACjD,MAAO,CACL5B,KAAM1B,EACNkD,QAAS,CACPxC,YACA2C,WACAC,aKmHS4H,CAAcxK,EAAW6C,EAAOpC,QAKhCyI,EAzHG,SAAC,GAAkD,IAAhDlJ,EAA+C,EAA/CA,UAAWS,EAAoC,EAApCA,MAAOgK,EAA6B,EAA7BA,QAASF,EAAoB,EAApBA,cACxCG,EAAmBD,EAAQlJ,KAAI,SAACoJ,GACpC,OACE,yBAAqBlK,MAAOkK,EAA5B,SACGnB,GAAcmB,IADJA,MAUjB,OACE,eAAChB,GAAD,UACE,eAACQ,GAAD,CACEvI,KAAI,qBAAgBnB,EAAMmK,eAC1BpK,GAAE,qBAAgBC,EAAMmK,eACxBnK,MAAOA,EACPoH,SAVkB,SAACrD,GACvB+F,EAAcvK,EAAWS,EAAO+D,EAAEsD,OAAOrH,QAKvC,SAMGiK,SCnCT,SAASG,KAA2Q,OAA9PA,GAAW3J,OAAOC,QAAU,SAAU2G,GAAU,IAAK,IAAIgD,EAAI,EAAGA,EAAIC,UAAU/H,OAAQ8H,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAc9J,OAAOgK,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQnD,EAAOmD,GAAOD,EAAOC,IAAY,OAAOnD,IAA2BuD,MAAMC,KAAMP,WAEhT,SAASQ,GAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEhD,EAEzF,SAAuCkD,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DhD,EAAS,GAAQ2D,EAAavK,OAAOwK,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWzI,OAAQ8H,IAAOG,EAAMQ,EAAWX,GAAQU,EAASrD,QAAQ8C,IAAQ,IAAanD,EAAOmD,GAAOD,EAAOC,IAAQ,OAAOnD,EAFxM6D,CAA8BX,EAAQQ,GAAuB,GAAItK,OAAO0K,sBAAuB,CAAE,IAAIC,EAAmB3K,OAAO0K,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB7I,OAAQ8H,IAAOG,EAAMY,EAAiBf,GAAQU,EAASrD,QAAQ8C,IAAQ,GAAkB/J,OAAOgK,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBnD,EAAOmD,GAAOD,EAAOC,IAAU,OAAOnD,EAMne,SAASiE,GAAgBC,EAAMC,GAC7B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQb,GAAyBS,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOnB,GAAS,CACtDwB,MAAO,6BACPzD,MAAO,OACP0D,OAAQ,MACRC,QAAS,mBACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3D1L,GAAI2L,GACHD,GAAS,KAAM5B,KAAUA,GAAqB,gBAAoB,OAAQ,CAC3E9J,GAAI,cACJ,YAAa,cACbiM,EAAG,kCACHC,UAAW,2BACXC,KAAM,OACNC,OAAQ,UACRC,cAAe,QACfC,eAAgB,QAChBC,YAAa,MAIjB,I,kBAAIC,GAA0B,aAAiBjB,ICqBzCkB,IDpBS,ICoBQC,cAAH,mJAUdC,GAAUvD,IAAOC,IAAV,gUAKPoD,IACkB,qBAAGnD,MAAkBC,MAAMC,aAI7CiD,IACkB,qBAAGnD,MAAkBC,MAAMG,aAa7CkD,GAAQxD,IAAOyD,MAAV,uKACA,qBAAGvD,MAAkBC,MAAMM,QAM3B,qBAAGzB,SAGR0E,GAAW1D,IAAOC,IAAV,gFAMR0D,GAAkB3D,IAAO4D,OAAV,qLASL,qBAAG1D,MAAkBC,MAAMG,aAKrCuD,GAA0B7D,YAAO2D,GAAP3D,CAAH,4DAId8D,GAvHI,SAAC,GAMb,IALLjN,EAKI,EALJA,MACAoH,EAII,EAJJA,SACAO,EAGI,EAHJA,YACAI,EAEI,EAFJA,YAEI,IADJI,aACI,MADI,MACJ,EAgBJ,OACE,gBAACuE,GAAD,WACE,eAAC,GAAD,CACEnM,KAAK,OACL6G,SAAUA,EACV8F,UApBY,SAACnJ,GACjB,OAAQA,EAAEyG,KACR,IAAK,UACHzG,EAAEoJ,iBACFxF,IACA,MACF,IAAK,YACH5D,EAAEoJ,iBACFpF,IACA,MACF,QACE,SAUA/H,MAAOA,EACPmI,MAAOA,IAET,gBAAC0E,GAAD,WACE,eAACC,GAAD,CAAiBM,QAASzF,EAA1B,SACE,eAAC,GAAD,CAAW0F,MAAO,CAAElF,MAAO,aAE7B,eAAC6E,GAAD,CAAyBI,QAASrF,EAAlC,SACE,eAAC,GAAD,CAAWsF,MAAO,CAAElF,MAAO,oBCjC/BmF,GAAY,SAAC,GAAyC,IAAvC/N,EAAsC,EAAtCA,UAAWS,EAA2B,EAA3BA,MAAOkI,EAAoB,EAApBA,cAC/B1B,EAAkB,SAACpE,GAAD,OAAW,SAAC8E,GAClC,IACE,IAAMqG,EAAY3J,OAAOsD,GACnBpE,EAAI,2BAAQ9C,GAAR,IAAe,CAACoC,GAAQmL,IAClCrF,EAAc3I,EAAWuD,GACzB,MAAOiB,GACP,UAyBEyJ,EAAalH,GAAS,CAC1BC,aAAcO,OAAO9G,EAAMoB,KAC3BoF,gBAAiBA,EAAgB,OACjCC,WAAY,EACZC,SAAU,KAGN+G,EAAanH,GAAS,CAC1BC,aAAcO,OAAO9G,EAAMqB,KAC3BmF,gBAAiBA,EAAgB,OACjCI,gBA/BsB,SAAC8G,GACvB,OAAQA,GACN,IAAK,OACC1N,EAAMoB,IAAM,KACd8G,EAAc3I,EAAW,CAAE6B,IAAKpB,EAAMoB,IAAM,EAAGC,IAAK,IACpDmM,EAAWxF,WAAWlB,OAAO9G,EAAMoB,IAAM,IACzCqM,EAAWzF,WAAW,OAExB,MACF,IAAK,QACChI,EAAMoB,IAAM,IACd8G,EAAc3I,EAAW,CAAE6B,IAAKpB,EAAMoB,IAAM,EAAGC,IAAK,KACpDmM,EAAWxF,WAAWlB,OAAO9G,EAAMoB,IAAM,IACzCqM,EAAWzF,WAAW,OAExB,MACF,QACE,SAeJvB,WAAY,EACZC,SAAU,GACVC,SAAU,IAGZ,OACE,gBAAC,GAAD,WACE,eAAC,GAAD,CACE3G,MAAOwN,EAAWxG,eAClBI,SAAUoG,EAAWpG,SACrBO,YAAa6F,EAAW7F,YACxBI,YAAayF,EAAWzF,YACxBI,MAAM,UAER,eAAC,GAAD,gBACA,eAAC,GAAD,CACEnI,MAAOyN,EAAWzG,eAClBI,SAAUqG,EAAWrG,SACrBO,YAAa8F,EAAW9F,YACxBI,YAAa0F,EAAW1F,YACxBI,MAAM,UAER,eAAC,GAAD,UAAa1J,QAKnB6O,GAAUlF,SAAW,CACnB7I,UAAW8I,IAASC,OAAOC,WAC3BvI,MAAOqI,IAASsF,MAAM,CACpBvM,IAAKiH,IAASC,OACdjH,IAAKgH,IAASC,SACbC,WACHL,cAAeG,IAASG,KAAKD,YAgBhBE,oBAbf,SAAyBnJ,EAAOoJ,GAC9B,MAAO,CACL1I,MAAOX,EAAcC,EAAOoJ,EAASnJ,UAAWd,OAIpD,SAA4B+G,GAC1B,MAAO,CACL0C,cAAe,SAAC3I,EAAWS,GAAZ,OACbwF,EN7DsB,SAACjG,EAAWuD,GAAZ,OAAqB,SAAC0C,EAAUC,GAC1D,IAAMnG,EAAQmG,IACRkD,EAAa1I,EAAkBX,EAAOC,EAAWd,GAEvD+G,EAAS/B,GAASlE,EAAWd,EAAWqE,IACxC,IAAMD,EAAQ8B,GAAmB7B,GAGjC,GAFA0C,EAAS/B,GAASlE,EAAWb,EAAYmE,IAErC8F,IAAehK,EAAW,CAC5B,IACMqE,EAAWoC,GAAkBvC,EADfxD,EAAcC,EAAOC,EAAWZ,IAEpD6G,EAAS/B,GAASlE,EAAWX,EAAeoE,SACvC,GAAI2F,IAAe/J,EAAe,CACvC,IACMmE,EAAOsC,GADWhG,EAAcC,EAAOC,EAAWX,GACZiE,GAC5C2C,EAAS/B,GAASlE,EAAWZ,EAAWoE,IAE1CyC,EAASD,OM4CIqI,CAAarO,EAAWS,QAIxByI,CAA6C6E,ICzC7C7E,I,eAAAA,gBAbf,SAAyBnJ,EAAOoJ,GAC9B,MAAO,CACL1I,MAAOX,EAAcC,EAAOoJ,EAASnJ,UAAWb,OAIpD,SAA4B8G,GAC1B,MAAO,CACL0C,cAAe,SAAC3I,EAAWS,GAAZ,OACbwF,EPxCuB,SAACjG,EAAWsD,GAAZ,OAAsB,SAAC2C,EAAUC,GAC5D,IAAMnG,EAAQmG,IACRkD,EAAa1I,EAAkBX,EAAOC,EAAWb,GAEvD8G,EAAS/B,GAASlE,EAAWb,EAAYmE,IACzC,IAAMC,EAAOuB,GAAmBxB,GAGhC,GAFA2C,EAAS/B,GAASlE,EAAWd,EAAWqE,IAEpC6F,IAAehK,EAAW,CAC5B,IAAMkK,EAAcxJ,EAAcC,EAAOC,EAAWZ,GAC9CqE,EAAWoC,GAAkBvC,EAAOgG,GAC1CrD,EAAS/B,GAASlE,EAAWX,EAAeoE,SACvC,GAAI2F,IAAe/J,EAAe,CACvC,IACMmE,EAAOsC,GADWhG,EAAcC,EAAOC,EAAWX,GACZiE,GAC5C2C,EAAS/B,GAASlE,EAAWZ,EAAWoE,IAE1CyC,EAASD,OOuBIsI,CAActO,EAAWS,QAIzByI,EAlDI,SAAC,GAAyC,IAAvClJ,EAAsC,EAAtCA,UAAWS,EAA2B,EAA3BA,MAAOkI,EAAoB,EAApBA,cAAoB,EAUK5B,GAAS,CACtEC,aAAc1B,GAAe7E,GAC7BwG,gBAXsB,SAACU,GACvB,IACE,IAAIrE,EAAQe,OAAOsD,GACnBgB,EAAc3I,EAAWsD,GACzB,MAAOkB,GACP,SAOF0C,WAAY,EACZC,SAAU,OAJJM,EAVkD,EAUlDA,eAAgBI,EAVkC,EAUlCA,SAAUO,EAVwB,EAUxBA,YAAaI,EAVW,EAUXA,YAO/C,OACE,gBAAC,GAAD,WACE,eAAC,GAAD,CACE/H,MAAOgH,EACPI,SAAUA,EACVO,YAAaA,EACbI,YAAaA,EACbI,MAAM,QAER,eAAC,GAAD,UAAazJ,UC7BJoP,GANY3E,IAAOC,IAAV,sGCQT2E,GARS5E,IAAO6E,KAAV,qJAEV,qBAAG3E,MAAkBC,MAAMC,cCFzB0E,GAAY,SAAC5E,GAAD,OAAWoD,cAAV,QAAD,yDAEdpD,EAAMC,MAAM4E,YCFRzB,iBAAf,wWCOe0B,GANWhF,IAAO6E,KAAV,6FAGnB,gBAAG3E,EAAH,EAAGA,MAAH,OAAe4E,GAAU5E,MC0IdZ,I,wBAAAA,gBAbf,SAAyBnJ,EAAOoJ,GAC9B,MAAO,CACL1I,MAAOX,EAAcC,EAAOoJ,EAASnJ,UAAWZ,OAIpD,SAA4B6G,GAC1B,MAAO,CACL0C,cAAe,SAAC3I,EAAWS,GAAZ,OACbwF,Eb5DsB,SAACjG,EAAWwD,GAAZ,OAAqB,SAACyC,EAAUC,GAC1D,IAAMnG,EAAQmG,IACRkD,EAAa1I,EAAkBX,EAAOC,EAAWZ,GAIvD,GAFA6G,EAAS/B,GAASlE,EAAWZ,EAAWoE,IAEpC4F,IAAejK,GAAciK,IAAelK,EAAW,CACzD,IACMuE,EAAWoC,GADI/F,EAAcC,EAAOC,EAAWb,GACJqE,GACjDyC,EAAS/B,GAASlE,EAAWX,EAAeoE,SACvC,GAAI2F,IAAe/J,EAAe,CACvC,IACMiE,EAAQyC,GADUjG,EAAcC,EAAOC,EAAWX,GACVmE,GACxCD,EAAOuB,GAAmBxB,GAChC2C,EAAS/B,GAASlE,EAAWb,EAAYmE,IACzC2C,EAAS/B,GAASlE,EAAWd,EAAWqE,IAE1C0C,EAASD,Oa2CI6I,CAAa7O,EAAWS,QAIxByI,EAtIG,SAAC,GAAyC,IAAvClJ,EAAsC,EAAtCA,UAAWS,EAA2B,EAA3BA,MAAOkI,EAAoB,EAApBA,cAC/B1B,EAAkB,SAACpE,GAAD,OAAW,SAAC8E,GAClC,IACE,IAAMmH,EAAazK,OAAOsD,GACpBrE,EAAK,2BAAQ7C,GAAR,IAAe,CAACoC,GAAQiM,IACnCnG,EAAc3I,EAAWsD,GACzB,MAAOkB,GACP,UAIE6C,EAAkB,SAACxE,GAAD,OAAW,SAACsL,GAClC,OAAQA,GACN,IAAK,OACW,QAAVtL,EACEpC,EAAMoB,IAAM,IACd8G,EAAc3I,EAAD,YAAC,eAAgBS,GAAjB,IAAwBoB,IAAKpB,EAAMoB,IAAM,EAAGC,IAAK,KAC9DmM,EAAWxF,WAAWlB,OAAO9G,EAAMoB,IAAM,GAAGuF,SAAS,EAAG,MACxD8G,EAAWzF,WAAW,OACC,KAAdhI,EAAMoB,KAAcpB,EAAMsB,EAAI,KACvC4G,EAAc3I,EAAW,CAAE+B,EAAGtB,EAAMsB,EAAI,EAAGF,IAAK,EAAGC,IAAK,IACxDiN,EAAStG,WAAWlB,OAAO9G,EAAMsB,EAAI,GAAGqF,SAAS,EAAG,MACpD6G,EAAWxF,WAAW,MACtByF,EAAWzF,WAAW,OAEL,QAAV5F,GACLpC,EAAMsB,EAAI,KACZ4G,EAAc3I,EAAD,YAAC,eAAgBS,GAAjB,IAAwBsB,EAAGtB,EAAMsB,EAAI,EAAGF,IAAK,KAC1DkN,EAAStG,WAAWlB,OAAO9G,EAAMsB,EAAI,GAAGqF,SAAS,EAAG,MACpD6G,EAAWxF,WAAW,OAG1B,MACF,IAAK,QACW,QAAV5F,EACEpC,EAAMoB,IAAM,GACd8G,EAAc3I,EAAD,YAAC,eAAgBS,GAAjB,IAAwBoB,IAAKpB,EAAMoB,IAAM,EAAGC,IAAK,MAC9DmM,EAAWxF,WAAWlB,OAAO9G,EAAMoB,IAAM,GAAGuF,SAAS,EAAG,MACxD8G,EAAWzF,WAAW,OACC,IAAdhI,EAAMoB,KAAapB,EAAMsB,EAAI,IACtC4G,EAAc3I,EAAW,CAAE+B,EAAGtB,EAAMsB,EAAI,EAAGF,IAAK,GAAIC,IAAK,KACzDiN,EAAStG,WAAWlB,OAAO9G,EAAMsB,EAAI,GAAGqF,SAAS,EAAG,MACpD6G,EAAWxF,WAAW,MACtByF,EAAWzF,WAAW,OAEL,QAAV5F,GACLpC,EAAMsB,EAAI,IACZ4G,EAAc3I,EAAD,YAAC,eAAgBS,GAAjB,IAAwBsB,EAAGtB,EAAMsB,EAAI,EAAGF,IAAK,MAC1DkN,EAAStG,WAAWlB,OAAO9G,EAAMsB,EAAI,GAAGqF,SAAS,EAAG,MACpD6G,EAAWxF,WAAW,OAG1B,MACF,QACE,UAIAsG,EAAWhI,GAAS,CACxBC,aAAcO,OAAO9G,EAAMsB,GAC3BkF,gBAAiBA,EAAgB,KACjCC,WAAY,EACZC,SAAU,GACVC,SAAU,IAEN6G,EAAalH,GAAS,CAC1BC,aAAcO,OAAO9G,EAAMoB,KAC3BoF,gBAAiBA,EAAgB,OACjCI,gBAAiBA,EAAgB,OACjCH,WAAY,EACZC,SAAU,GACVC,SAAU,IAEN8G,EAAanH,GAAS,CAC1BC,aAAcO,OAAO9G,EAAMqB,KAC3BmF,gBAAiBA,EAAgB,OACjCI,gBAAiBA,EAAgB,OACjCH,WAAY,EACZC,SAAU,GACVC,SAAU,IAGZ,OACE,gBAAC,GAAD,WACE,eAAC,GAAD,CACE3G,MAAOsO,EAAStH,eAChBI,SAAUkH,EAASlH,SACnBO,YAAa2G,EAAS3G,YACtBI,YAAauG,EAASvG,YACtBI,MAAM,UAER,eAAC,GAAD,gBACA,eAAC,GAAD,CACEnI,MAAOwN,EAAWxG,eAClBI,SAAUoG,EAAWpG,SACrBO,YAAa6F,EAAW7F,YACxBI,YAAayF,EAAWzF,YACxBI,MAAM,UAER,eAAC,GAAD,gBACA,eAAC,GAAD,CACEnI,MAAOyN,EAAWzG,eAClBI,SAAUqG,EAAWrG,SACrBO,YAAa8F,EAAW9F,YACxBI,YAAa0F,EAAW1F,YACxBI,MAAM,gBCzERuE,GAAUvD,IAAOC,IAAV,wDAIPmF,GAAiBpF,IAAOC,IAAV,iGAMLuD,GAvCD,SAAC,GAAkC,IAAhCpN,EAA+B,EAA/BA,UAAWgB,EAAoB,EAApBA,KAAMyJ,EAAc,EAAdA,QAC1BwE,EAAW,CACf,CAAC9P,GAAa+P,GACd,CAAChQ,GAAY6O,GACb,CAAC1O,GAAgBqJ,GACjB,CAACtJ,GAAY+P,IAGf,OACE,gBAAC,GAAD,WACE,eAACH,GAAD,UACE,eAAC,GAAD,CAAWhP,UAAWA,EAAWS,MAAOO,EAAMyJ,QAASA,MAEzD,eAACuE,GAAD,UACGI,IAAMC,cAAcJ,EAASjO,GAAO,CAAEhB,UAAWA,UCgDpDsP,GAAY1F,IAAOC,IAAV,2FAMT0F,GAAM3F,IAAOC,IAAV,4FAMH2F,GAAQ5F,IAAO6E,KAAV,wIACA,qBAAG3E,MAAkBC,MAAMG,aAMhCuF,GAAS7F,IAAOC,IAAV,sDAIN6F,GAAQ9F,IAAO6E,KAAV,uFACA,qBAAG3E,MAAkBC,MAAME,aAKhC0F,GAAO/F,IAAO6E,KAAV,qCACN,gBAAG3E,EAAH,EAAGA,MAAH,OAAe4E,GAAU5E,MAYdZ,I,GCrHX,GDqHWA,gBATf,SAAyBnJ,EAAOoJ,GAC9B,MAAO,CACLyG,QACgC,kBAAvBzG,EAASnJ,UACZF,EAAcC,EAAOoJ,EAASnJ,UAAWmJ,EAASnI,MAClDD,EAAchB,EAAOoJ,EAASnI,MAAMP,SAI/ByI,EAtGA,SAAC,GAAwC,EAAtClJ,UAAuC,IhB6F3BuD,EgB7FMvC,EAAoB,EAApBA,KAAM4O,EAAc,EAAdA,QACpCC,EAAmB,KACnBC,EAAQ,KACR1O,EAAO,KAEX,OAAQJ,GACN,KAAK7B,EACH0Q,EAAmBvK,GAAesK,GAClCE,EAAQ3Q,EACRiC,EAAOjC,EACP,MACF,KAAKD,EACH2Q,EhBkFApL,GADwBlB,EgBjFSqM,GhBmF7B,GAAN,OAAUrM,EAAK1B,IAAf,YAAsB0F,OAAOhE,EAAKzB,KAAKsF,SAAS,EAAG,MAE9C,QgBpFH0I,EAAQ5Q,EACRkC,EAAOlC,EACP,MACF,KAAKE,EACHyQ,EhB0FC,SAAuBrM,GAC5B,GAAImB,GAAYnB,GAAO,CACrB,IAAMzB,EAAIwF,OAAO/D,EAAKzB,GAAGqF,SAAS,EAAG,KAC/BvF,EAAM0F,OAAO/D,EAAK3B,KAAKuF,SAAS,EAAG,KACnCtF,EAAMyF,OAAO/D,EAAK1B,KAAKsF,SAAS,EAAG,KACzC,MAAM,GAAN,OAAUrF,EAAV,YAAeF,EAAf,YAAsBC,GAExB,MAAO,WgBjGgBiO,CAAcH,GACjCE,EAAQ1Q,EACRgC,EAAOhC,EACP,MACF,KAAKC,EACHwQ,EAAmBpK,GAAkBmK,GACrCE,EAAQzQ,EACR+B,EAAO/B,EACP,MACF,QACEwQ,EAAmBD,EAGvB,OACE,eAACN,GAAD,UACE,gBAACC,GAAD,WACE,eAACC,GAAD,UAAQM,IACR,gBAACL,GAAD,WACE,eAACC,GAAD,UAAQG,MACL7O,IAAS5B,IAAc,gBAACuQ,GAAD,eAAQvO,gBEb7B4O,GApCYpG,IAAO4D,OAAV,koBAQF,qBAAG1D,MAAkBC,MAAMkG,SACrB,qBAAGnG,MAAkBC,MAAMC,cAa/B,gBAAGF,EAAH,EAAGA,MAAOoG,EAAV,EAAUA,WAAV,OAA2BpG,EAAMC,MAAMmG,MAK/C,gBAAGpG,EAAH,EAAGA,MAAOqG,EAAV,EAAUA,iBAAV,OAAiCrG,EAAMC,MAAMoG,MAI/C,gBAAGrG,EAAH,EAAGA,MAAOqG,EAAV,EAAUA,iBAAV,OAAiCrG,EAAMC,MAAMoG,MD/B3D,SAAS,KAA2Q,OAA9P,GAAWjP,OAAOC,QAAU,SAAU2G,GAAU,IAAK,IAAIgD,EAAI,EAAGA,EAAIC,UAAU/H,OAAQ8H,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAc9J,OAAOgK,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQnD,EAAOmD,GAAOD,EAAOC,IAAY,OAAOnD,IAA2BuD,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEhD,EAEzF,SAAuCkD,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DhD,EAAS,GAAQ2D,EAAavK,OAAOwK,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWzI,OAAQ8H,IAAOG,EAAMQ,EAAWX,GAAQU,EAASrD,QAAQ8C,IAAQ,IAAanD,EAAOmD,GAAOD,EAAOC,IAAQ,OAAOnD,EAFxM,CAA8BkD,EAAQQ,GAAuB,GAAItK,OAAO0K,sBAAuB,CAAE,IAAIC,EAAmB3K,OAAO0K,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB7I,OAAQ8H,IAAOG,EAAMY,EAAiBf,GAAQU,EAASrD,QAAQ8C,IAAQ,GAAkB/J,OAAOgK,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBnD,EAAOmD,GAAOD,EAAOC,IAAU,OAAOnD,EAMne,SAASsI,GAAcpE,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPzD,MAAO,OACP0D,OAAQ,OACRC,QAAS,oBACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3D1L,GAAI2L,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3E1L,GAAI,cACJ,YAAa,cACbiM,EAAG,+KACHC,UAAW,yCACXC,KAAM,UACNC,OAAQ,UACRG,YAAa,MAIjB,I,2BAAI,GAA0B,aAAiBqD,IEoEzCjD,IFnES,IEmECvD,IAAOC,IAAV,6BAEPwG,GAAa,SAACvG,GAAD,OAAWoD,cAAV,QAAD,kMAMRpD,EAAMC,MAAMkG,QAIjBK,GAAQ1G,IAAO2G,GAAV,0RAKW,qBAAGzG,MAAkBC,MAAMyG,WAQ3CpD,GAAQxD,IAAOyD,MAAV,2NAKP,gBAAGvD,EAAH,EAAGA,MAAH,OAAeuG,GAAWvG,MAUxB2G,GAAc7G,IAAO6E,KAAV,+HACb,gBAAG3E,EAAH,EAAGA,MAAH,OAAeuG,GAAWvG,MAOxB4G,GAAiB9G,IAAOC,IAAV,+EAKd8G,GAAe/G,YAAOoG,GAAPpG,CAAH,0KAMgB,qBAAGE,MAAkB8G,GAAGC,MAKpDC,GAAalH,IAAOmH,IAAV,+CAIVC,GAAapH,YAAOkH,GAAPlH,CAAA,4BAAqBqH,cAAcC,IAiBvChI,IC5LXiI,GD4LWjI,gBAff,SAAyBnJ,EAAOoJ,GAC9B,MAAO,CACLvH,KAAMf,EAAed,EAAOoJ,EAASnJ,WAAW4B,KAChDwP,SAAU5P,EAAgBzB,EAAOoJ,EAASnJ,WAAa,MAI3D,SAA4BiG,EAAUkD,GACpC,MAAO,CACLkI,aAAc,SAAC5Q,GACb,OAAOwF,GpBvGiBjG,EoBuGMmJ,EAASnJ,UpBtGpC,CACLgB,KAAMnB,EACN2C,QAAS,CACPxC,YACA4B,KoBkGkDnB,MpBvGjD,IAAuBT,MoB4GfkJ,EAjLK,SAAC,GAAiD,IAA/ClJ,EAA8C,EAA9CA,UAAW4B,EAAmC,EAAnCA,KAAMwP,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,aAAmB,EACjC7J,oBAAS,GADwB,oBAC5D8J,EAD4D,KACjDC,EADiD,KAE7DC,EAAWC,mBACXC,EAAaD,mBAEnBE,qBAAU,WACR,GAAIL,EAAW,CAMb,IAAMM,EAAYC,SAASxC,cAAc,SACzCuC,EAAUE,aAAa,OAAQ,QAC/BF,EAAU9D,MAAMsD,SAAW,WAC3BQ,EAAU9D,MAAMiE,QAAU,EAC1BH,EAAU9D,MAAMxB,OAAS,EACzBsF,EAAU9D,MAAMkE,SAAW,OAC3BN,EAAWO,QAAQC,OAAON,GAC1BA,EAAUO,QAEVC,YAAW,WACTZ,EAASS,QAAQE,QACjBX,EAASS,QAAQI,eAAiB,EAClCb,EAASS,QAAQK,aAAed,EAASS,QAAQxR,MAAMuC,OAEvD4O,EAAUW,WACT,QAEJ,CAACjB,IAwBJ,IAAMkB,EAAa,OAAG5Q,QAAH,IAAGA,IAAH,mBAAoBwP,GAEvC,OACE,gBAAC,GAAD,CAAS5E,IAAKkF,EAAd,UACE,gBAACpB,GAAD,WACE,eAAC,GAAD,CACE9D,IAAKgF,EACLxQ,KAAK,OACLP,MAAO+R,EACP3K,SA3BR,SAA2B4K,GACzB,IAAM7Q,EAAO6Q,EAAM3K,OAAOrH,MAC1B4Q,EAAazP,IA0BP8Q,OAvBR,SAAqBD,GACnBlB,GAAa,GACRkB,EAAM3K,OAAOrH,OAAO4Q,EAAa,OAsBhC1D,UAnBR,SAAwB8E,GACJ,UAAdA,EAAMxH,MACRuG,EAASS,QAAQI,eAAiB,EAClCb,EAASS,QAAQK,aAAe,EAChCd,EAASS,QAAQU,SAgBbC,UAAWtB,EACXuB,UAAW,KAEb,eAACpC,GAAD,CAAaqC,eAAA,EAAb,SAA0BN,QAE1BlB,GACA,eAACZ,GAAD,UACE,eAACC,GAAD,CACEnQ,GAAE,0BAAqBR,GACvB+S,UAAU,eACV7C,WAAW,YACXC,iBAAiB,OACjBtC,QA9CV,WACE0D,GAAcD,IA8CN0B,aAAW,sBANb,SAQE,eAAChC,GAAD,cCzFZ,SAAS,KAA2Q,OAA9P,GAAW9P,OAAOC,QAAU,SAAU2G,GAAU,IAAK,IAAIgD,EAAI,EAAGA,EAAIC,UAAU/H,OAAQ8H,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAc9J,OAAOgK,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQnD,EAAOmD,GAAOD,EAAOC,IAAY,OAAOnD,IAA2BuD,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEhD,EAEzF,SAAuCkD,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DhD,EAAS,GAAQ2D,EAAavK,OAAOwK,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWzI,OAAQ8H,IAAOG,EAAMQ,EAAWX,GAAQU,EAASrD,QAAQ8C,IAAQ,IAAanD,EAAOmD,GAAOD,EAAOC,IAAQ,OAAOnD,EAFxM,CAA8BkD,EAAQQ,GAAuB,GAAItK,OAAO0K,sBAAuB,CAAE,IAAIC,EAAmB3K,OAAO0K,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB7I,OAAQ8H,IAAOG,EAAMY,EAAiBf,GAAQU,EAASrD,QAAQ8C,IAAQ,GAAkB/J,OAAOgK,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBnD,EAAOmD,GAAOD,EAAOC,IAAU,OAAOnD,EAMne,SAASmL,GAAYjH,EAAMC,GACzB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPzD,MAAO,OACP0D,OAAQ,MACRC,QAAS,mBACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3D1L,GAAI2L,GACHD,GAAS,KAAMiF,KAAOA,GAAkB,gBAAoB,IAAK,CAClE3Q,GAAI,YACJ,YAAa,YACbkM,UAAW,iCACG,gBAAoB,IAAK,CACvClM,GAAI,SACJkM,UAAW,0CACG,gBAAoB,OAAQ,CAC1ClM,GAAI,aACJ,YAAa,aACbiM,EAAG,gHACHC,UAAW,qBACXC,KAAM,YACS,gBAAoB,OAAQ,CAC3CnM,GAAI,aACJ,YAAa,aACbiM,EAAG,2HACHC,UAAW,iBACXC,KAAM,aACU,gBAAoB,OAAQ,CAC5CnM,GAAI,OACJ,YAAa,OACb0S,GAAI,OACJxG,UAAW,8BACXC,KAAM,OACNC,OAAQ,OACRC,cAAe,QACfE,YAAa,OAIjB,ICvDI,GDuDA,GAA0B,aAAiBkG,IAChC,ICtDf,SAAS,KAA2Q,OAA9P,GAAW/R,OAAOC,QAAU,SAAU2G,GAAU,IAAK,IAAIgD,EAAI,EAAGA,EAAIC,UAAU/H,OAAQ8H,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAc9J,OAAOgK,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQnD,EAAOmD,GAAOD,EAAOC,IAAY,OAAOnD,IAA2BuD,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEhD,EAEzF,SAAuCkD,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DhD,EAAS,GAAQ2D,EAAavK,OAAOwK,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWzI,OAAQ8H,IAAOG,EAAMQ,EAAWX,GAAQU,EAASrD,QAAQ8C,IAAQ,IAAanD,EAAOmD,GAAOD,EAAOC,IAAQ,OAAOnD,EAFxM,CAA8BkD,EAAQQ,GAAuB,GAAItK,OAAO0K,sBAAuB,CAAE,IAAIC,EAAmB3K,OAAO0K,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB7I,OAAQ8H,IAAOG,EAAMY,EAAiBf,GAAQU,EAASrD,QAAQ8C,IAAQ,GAAkB/J,OAAOgK,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBnD,EAAOmD,GAAOD,EAAOC,IAAU,OAAOnD,EAMne,SAASqL,GAAcnH,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPzD,MAAO,MACP0D,OAAQ,MACRC,QAAS,kBACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3D1L,GAAI2L,GACHD,GAAS,KAAM,KAAO,GAAkB,gBAAoB,IAAK,CAClE1L,GAAI,YACJ,YAAa,YACbkM,UAAW,gCACG,gBAAoB,OAAQ,CAC1ClM,GAAI,UACJ,YAAa,UACb4S,GAAI,OACJF,GAAI,OACJxG,UAAW,8BACXC,KAAM,OACNC,OAAQ,UACRC,cAAe,QACfE,YAAa,IACE,gBAAoB,OAAQ,CAC3CvM,GAAI,UACJ,YAAa,UACb0S,GAAI,OACJG,GAAI,OACJ3G,UAAW,8BACXC,KAAM,OACNC,OAAQ,UACRC,cAAe,QACfE,YAAa,OAIjB,ICnDI,GDmDA,GAA0B,aAAiBoG,IAChC,IClDf,SAAS,KAA2Q,OAA9P,GAAWjS,OAAOC,QAAU,SAAU2G,GAAU,IAAK,IAAIgD,EAAI,EAAGA,EAAIC,UAAU/H,OAAQ8H,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAc9J,OAAOgK,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQnD,EAAOmD,GAAOD,EAAOC,IAAY,OAAOnD,IAA2BuD,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEhD,EAEzF,SAAuCkD,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DhD,EAAS,GAAQ2D,EAAavK,OAAOwK,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWzI,OAAQ8H,IAAOG,EAAMQ,EAAWX,GAAQU,EAASrD,QAAQ8C,IAAQ,IAAanD,EAAOmD,GAAOD,EAAOC,IAAQ,OAAOnD,EAFxM,CAA8BkD,EAAQQ,GAAuB,GAAItK,OAAO0K,sBAAuB,CAAE,IAAIC,EAAmB3K,OAAO0K,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiB7I,OAAQ8H,IAAOG,EAAMY,EAAiBf,GAAQU,EAASrD,QAAQ8C,IAAQ,GAAkB/J,OAAOgK,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBnD,EAAOmD,GAAOD,EAAOC,IAAU,OAAOnD,EAMne,SAASwL,GAAatH,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPzD,MAAO,OACP0D,OAAQ,OACRC,QAAS,oBACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3D1L,GAAI2L,GACHD,GAAS,KAAM,KAAO,GAAkB,gBAAoB,IAAK,CAClE1L,GAAI,YACJkM,UAAW,iCACG,gBAAoB,IAAK,CACvClM,GAAI,SACJkM,UAAW,0CACG,gBAAoB,OAAQ,CAC1ClM,GAAI,aACJiM,EAAG,gHACHC,UAAW,qBACXC,KAAM,YACS,gBAAoB,OAAQ,CAC3CnM,GAAI,aACJiM,EAAG,wHACHE,KAAM,gBAIV,I,6CAAI,GAA0B,aAAiB2G,IC8FzCC,ID7FS,IC6FWrG,cAAH,qJAWjBoC,GAAY1F,IAAOC,IAAV,kPASP0J,GAKFA,IAIAC,GAAO5J,IAAOC,IAAV,kRAGY,qBAAGC,MAAkBC,MAAME,aAG1B,qBAAGH,MAAkB8G,GAAG6C,MAMzCC,GAAK9J,IAAO+J,GAAV,0NAEG,qBAAG7J,MAAkBC,MAAMyG,WAKf,qBAAG1G,MAAkB8G,GAAG6C,MAKzCG,GAAUhK,IAAOC,IAAV,2mBAQS,qBAAGC,MAAkBC,MAAM8J,YAOvB,qBAAG7R,OAAuB,GAAM,KAGxB,qBAAG8H,MAAkB8G,GAAG6C,MAGxB,qBAAG3J,MAAkB8G,GAAG6C,MASpDK,GAAmBlK,IAAOC,IAAV,+IAQhBkK,GAAanK,IAAO4D,OAAV,8fAOU,qBAAGxL,OAAuB,GAAM,KAI5C,qBAAG8H,MAAkBC,MAAMG,aAGzB,qBAAGJ,MAAkBC,MAAMG,aAIT,qBAAGJ,MAAkB8G,GAAG6C,MAE9B,qBAAGzR,OAAuB,GAAM,KAG9C,gBAAG8H,EAAH,EAAGA,MAAH,SAAU9H,OAAuB8H,EAAMC,MAAMM,KAAO,MAGlD,gBAAGP,EAAH,EAAGA,MAAH,SAAU9H,OAAuB8H,EAAMC,MAAMM,KAAO,MAQ9D2J,GAAoBpK,IAAOC,IAAV,+LAED,qBAAG7H,QAAwB,IAAM,KAErB,qBAAG8H,MAAkB8G,GAAG6C,MAClC,qBAAGzR,QAAwB,IAAM,KAInDiS,GAAgB,CACpBrL,MAAO,UAGHsL,GAAkBtK,IAAOC,IAAV,+MAWfmF,GAAiBpF,IAAOC,IAAV,gOAEE,qBAAGC,MAAkBC,MAAMkG,SACnB,qBAAGnG,MAAkBC,MAAMC,cAQnDmK,GAAavK,IAAOC,IAAV,oJAIkB,qBAAGC,MAAkB8G,GAAG6C,MAKpD3C,GAAalH,IAAOmH,IAAV,+CAIVqD,GAAaxK,YAAOkH,GAAPlH,CAAA,iEAEL,qBAAGE,MAAkBC,MAAMsK,SAEvCpD,cAAcqD,IAEVC,GAAY3K,YAAOkH,GAAPlH,CAAA,4BAAqBqH,cAAcuD,IAE/CC,GAAoB7K,YAAO2K,GAAP3K,CAAH,6DAuBRV,I,8BAAAA,gBAnBf,SAAyBnJ,EAAOoJ,GAC9B,IAAM5I,EAAUM,EAAed,EAAOoJ,EAAS3I,IAC/C,MAAO,CACLI,OAAQL,EAAQK,OAChBoB,OAAQzB,EAAQyB,OAChB0S,UAAWlT,EAAgBzB,EAAOoJ,EAAS3I,IAAM,EACjDmU,YACEnT,EAAgBzB,EAAOoJ,EAAS3I,IAAMT,EAAMM,SAAS2C,OAAS,MAIpE,SAA4BiD,EAAUkD,GACpC,MAAO,CACLyL,WAAY,kBAAM3O,GxBjSKjG,EwBiSemJ,EAAS3I,GxBhS1C,CACLQ,KAAMvB,EACN+C,QAAS,CACPxC,gBAJC,IAAoBA,GwBkSvBuS,OAAQ,kBAAMtM,EAASY,GAAsBsC,EAAS3I,MACtDqU,KAAM,SAAC9R,GAAD,OAAekD,ExB1QlB,SAAqBjG,EAAW+C,GACrC,MAAO,CACL/B,KAAMpB,EACN4C,QAAS,CACPxC,YACA+C,cwBqQ4B+R,CAAY3L,EAAS3I,GAAIuC,QAI5CmG,EAnUC,SAAC,GASV,IARL1I,EAQI,EARJA,GACAI,EAOI,EAPJA,OAOI,IANJoB,cAMI,SALJ4S,EAKI,EALJA,WACArC,EAII,EAJJA,OACAsC,EAGI,EAHJA,KACAH,EAEI,EAFJA,UACAC,EACI,EADJA,YAEMI,EAAYtD,mBACZuD,EAAcvD,mBAEdhH,EAAU,SAACxK,GACf,IAAMwK,EAAU,CAACtL,EAAYD,EAAWG,EAAeD,GACvD,OAAOqL,EAAQ3H,QAAO,SAAC6H,GACrB,IAAMsK,EAAahV,IAAcW,EAAO,GAAKA,EAAO,GAAKA,EAAO,GAChE,QACE+J,IAAWsK,GACVA,IAAe/V,GAAayL,IAAWxL,GACvCwL,IAAWzL,GAAa+V,IAAe9V,OAexC+V,EAAkBtU,EAAOW,KAAI,SAAC8L,GAAD,OACjC,eAAC,GAAD,UACE,eAAC,GAAD,CAAOrN,UAAWQ,EAAIQ,KAAMqM,EAAO5C,QAASA,EAAQ4C,MADjCA,MAKvB,OACE,gBAAC,GAAD,WACE,eAAC,GAAD,CAAarN,UAAWQ,IACxB,gBAACgT,GAAD,WACE,eAACE,GAAD,oBACA,eAACQ,GAAD,UAAkBgB,OAEpB,eAACtB,GAAD,CAAS5R,OAAQA,EAAjB,SACE,gBAAC8R,GAAD,WACE,eAAC,GAAD,CAAyB9T,UAAWQ,EAAIQ,KAAM7B,GAAjCA,GACb,eAAC,GAAD,CAAwBa,UAAWQ,EAAIQ,KAAM9B,GAAhCA,GACb,eAAC,GAAD,CAA4Bc,UAAWQ,EAAIQ,KAAM3B,GAApCA,GACb,eAAC,GAAD,CAAwBW,UAAWQ,EAAIQ,KAAM5B,GAAhCA,QAGjB,gBAAC+U,GAAD,WACE,eAAC,GAAD,CACE3T,GAAG,eACHuS,UAAU,eACV7C,WAAW,QACXC,iBAAiB,QACjBtC,QAAS0E,EACTS,aAAW,uBANb,SAQE,eAACoB,GAAD,MAEF,eAAC,GAAD,CACE5H,IAAKuI,EACLvU,GAAG,eACHuS,UAAU,eACV7C,WAAW,YACXC,iBAAiB,OACjBtC,QAhDS,WACfkH,EAAU9C,QAAQU,OAClBkC,EAAK,OA+CCM,UAAWT,EACX1B,aAAW,oBARb,SAUE,eAACuB,GAAD,MAEF,eAAC,GAAD,CACE/H,IAAKwI,EACLxU,GAAG,iBACHuS,UAAU,eACV7C,WAAW,YACXC,iBAAiB,OACjBtC,QAvDW,WACjBmH,EAAY/C,QAAQU,OACpBkC,EAAK,SAsDCM,UAAWR,EACX3B,aAAW,uBARb,SAUE,eAACyB,GAAD,SAGJ,eAACV,GAAD,CACE/R,OAAQA,EACR6L,QAAS+G,EACT5B,aAAW,qCAHb,SAKE,eAACgB,GAAD,CAAmBhS,OAAQA,EAA3B,SACE,eAAC,GAAD,CAAU8L,MAAOmG,e,SC9DrBmB,GAAOxL,IAAOyL,KAAV,kLAIa,qBAAGvL,MAAkB8G,GAAG6C,MAMzCnD,GAAQ1G,IAAOC,IAAV,yLAIY,qBAAGC,MAAkB8G,GAAG6C,MAOzC6B,GAAO1L,IAAOC,IAAV,4IAGa,qBAAGC,MAAkB8G,GAAG6C,MAMzC8B,GAAK3L,IAAO4L,GAAV,yZACG,qBAAG1L,MAAkBC,MAAMM,QAMf,qBAAGP,MAAkB8G,GAAG6C,MAYzCgC,GAAK7L,IAAO8L,GAAV,6HACG,qBAAG5L,MAAkBC,MAAMM,QAOhCsL,GAAW/L,IAAOC,IAAV,gDAIR+L,GAAIhM,IAAOiM,EAAV,mHAGI,qBAAG/L,MAAkBC,MAAMM,QAIhCyL,GAAoBlM,IAAOC,IAAV,mGAMjBkM,GAAqBnM,IAAOC,IAAV,6EAKlBmM,GAAYpM,IAAO4D,OAAV,sxBAIO,qBAAG1D,MAAkBC,MAAMM,QAEtC,qBAAGP,MAAkBC,MAAMkG,SAcd,qBAAGnG,MAAkBC,MAAMG,aAEtC,qBAAGJ,MAAkBC,MAAMM,QAM3B,qBAAGP,MAAkBC,MAAMG,aACJ,qBAAGJ,MAAkBC,MAAMG,aAwBhDhB,I,eAAAA,gBAZf,SAAyBnJ,GACvB,MAAO,CACLkW,WAAYlW,EAAMM,SAASkB,KAAI,SAAChB,GAAD,OAAaA,EAAQC,UAIxD,SAA4ByF,GAC1B,MAAO,CACLiQ,WAAY,kBAAMjQ,EAASW,UAIhBsC,EAhLO,SAAC,GAAgC,IAA9B+M,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,WAC7BC,EAAoBF,EAAW1U,KAAI,SAACvB,GAAD,OACvC,eAAC,KAAD,CAAyBoW,OAAQpW,EAAjC,SACE,+BACE,eAAC,GAAD,CAASQ,GAAIR,OAFHA,MAOhB,OACE,uCACE,gBAACoV,GAAD,WACE,eAAC,GAAD,UACE,eAACG,GAAD,sCAEF,eAACD,GAAD,UACE,gBAAC,KAAD,CAASe,QAASJ,EAAW3N,KAAK,IAAlC,UACE,eAACmN,GAAD,kDACA,gBAACE,GAAD,WACE,eAACC,GAAD,yDACA,eAACA,GAAD,yJAKF,eAACE,GAAD,UAAoBK,IACpB,eAAC,KAAD,CAASC,OAAO,YAAhB,SACE,eAACL,GAAD,UACE,eAACC,GAAD,CAAWnI,QAASqI,EAApB,8CAMV,eAAC,GAAD,UCnBA5G,GAAY1F,IAAOC,IAAV,8LAMO,qBAAGC,MAAkBC,MAAM8J,YAK3CyC,GAAa1M,IAAOC,IAAV,wJAEO,qBAAGC,MAAkB8G,GAAG6C,MAOzCnD,GAAQ1G,IAAO2G,GAAV,oZAMY,qBAAGzG,MAAkB8G,GAAG6C,MAGzB,qBAAG3J,MAAkBC,MAAMyG,WACtC,qBAAG1G,MAAkBC,MAAMkG,SAQhC6D,GAAmBlK,IAAOC,IAAV,oOAIC,qBAAGC,MAAkB8G,GAAG6C,MAQhC8C,GApED,WACZ,OACE,gBAAC,GAAD,WACE,eAAC,GAAD,qBACA,eAACD,GAAD,UACE,gBAAC,GAAD,WACE,eAAC,GAAD,CAAQtV,KAAM7B,IACd,eAAC,GAAD,CAAQ6B,KAAM9B,IACd,eAAC,GAAD,CAAQ8B,KAAM3B,IACd,eAAC,GAAD,CAAQ2B,KAAM5B,aCLlBoX,GAAc3E,SAAS4E,eAAe,QAC5CC,IAASC,OACP,gBAAC,IAAD,CAAUC,MAAOA,EAAjB,UACE,eAAC,SAAD,CAAQC,OAAQ3J,cAAF,iCAAQ4J,GAAeC,OACrC,eAAC,IAAD,CAAejN,MCdJ,CACbC,MAAO,CACLM,KAAM,UACNmG,QAAS,UACTtG,UAAW,UACX+F,MAAO,UACPhG,UAAW,UACXD,WAAY,UACZ2E,UAAW,UACXkF,SAAU,UACVmD,WAAY,UACZ3C,MAAO,WAETzD,GAAI,CACFqG,GAAI,IACJpG,GAAI,IACJ4C,GAAI,IACJyD,GAAI,IACJC,GAAI,ODJJ,SACE,eAAC,GAAD,SAGJX,M","file":"static/js/main.119315be.chunk.js","sourcesContent":["export const PACE = {\n  type: \"PACE\",\n  label: \"Allure\",\n  unit: \"min/km\"\n};\n\nexport const SPEED = {\n  type: \"SPEED\",\n  label: \"Vitesse\",\n  unit: \"km/h\"\n};\n\nexport const TIME = {\n  type: \"TIME\",\n  label: \"Temps\",\n  unit: \"hh:mm:ss\"\n};\n\nexport const DISTANCE = {\n  type: \"DISTANCE\",\n  label: \"Distance\",\n  unit: \"km\"\n};\n","export const SET_INPUT_FIELD = \"SET_INPUT_FIELD\";\nexport const SET_VALUE = \"SET_VALUE\";\nexport const SET_TOTAL = \"SET_TOTAL\";\nexport const TOGGLE_FOLD = \"TOGGLE_FOLD\";\nexport const ADD_SEGMENT = \"ADD_SEGMENT\";\nexport const REMOVE_SEGMENT = \"REMOVE_SEGMENT\";\nexport const MOVE_SEGMENT = \"MOVE_SEGMENT\";\nexport const RENAME_SEGMENT = \"RENAME_SEGMENT\";\n","export function getFieldValue(state, segmentId, fieldType) {\n  let fieldValue = null;\n\n  if (Array.isArray(state.segments))\n    state.segments.forEach((segment) => {\n      if (segment.id === segmentId) {\n        if (!segment[fieldType]) return;\n        const value = segment[fieldType].value;\n        if (typeof value === \"object\") {\n          fieldValue = { ...value };\n        } else {\n          fieldValue = value;\n        }\n      }\n    });\n  return fieldValue;\n}\n\nexport function getOtherFieldType(state, segmentId, fieldType) {\n  let otherFieldType = null;\n  if (Array.isArray(state.segments))\n    state.segments.forEach((segment) => {\n      if (segment.id === segmentId) {\n        if (fieldType === segment.inputs[0]) {\n          otherFieldType = segment.inputs[1];\n        } else if (fieldType === segment.inputs[1]) {\n          otherFieldType = segment.inputs[0];\n        }\n      }\n    });\n  return otherFieldType;\n}\n\nexport function getSegmentById(state, segmentId) {\n  let segmentToReturn = null;\n  if (Array.isArray(state.segments))\n    state.segments.forEach((segment) => {\n      if (segment.id === segmentId) {\n        segmentToReturn = { ...segment };\n      }\n    });\n  return segmentToReturn;\n}\n\nexport function getTotalField(state, type) {\n  let value = state.total[type].value;\n  if (typeof value === \"object\") {\n    value = Object.assign({}, state.total[type].value);\n  }\n  const unit = state.total[type].unit;\n  return Object.assign({}, { value: value, unit: unit });\n}\n\nexport const getAllValues = (state, type) =>\n  state.segments.map((segment) =>\n    typeof segment[type] !== \"undefined\" ? segment[type].value : null\n  );\n\nexport function getSegmentIndex(state, id) {\n  let segmentIndex = null;\n  state.segments.forEach((segment, index) => {\n    if (segment.id === id) segmentIndex = index;\n  });\n  return segmentIndex;\n}\n","import { SPEED, TIME, PACE, DISTANCE } from \"state/constants\";\nimport {\n  ADD_SEGMENT,\n  REMOVE_SEGMENT,\n  SET_INPUT_FIELD,\n  SET_VALUE,\n  TOGGLE_FOLD,\n  MOVE_SEGMENT,\n  RENAME_SEGMENT,\n} from \"state/actionTypes\";\nimport { cloneDeep } from \"lodash\";\nimport { getSegmentIndex } from \"state/selectors\";\n\nlet nextId;\n\nconst defaultSegment = {\n  id: null,\n  name: null,\n  inputs: [SPEED.type, TIME.type],\n  [SPEED.type]: {\n    value: 10,\n    unit: SPEED.unit,\n  },\n  [PACE.type]: {\n    value: { min: 6, sec: 0 },\n    unit: PACE.unit,\n  },\n  [TIME.type]: { value: { h: 1, min: 0, sec: 0 }, unit: TIME.unit },\n  [DISTANCE.type]: { value: 10, unit: DISTANCE.unit },\n  folded: false,\n};\n\nconst createSegment = () => {\n  const newSegment = cloneDeep(defaultSegment);\n  newSegment.id = nextId++;\n  return newSegment;\n};\n\nexport default function segments(state, action) {\n  if (typeof state === \"undefined\") {\n    nextId = 0;\n    state = [createSegment()];\n  }\n\n  switch (action.type) {\n    case SET_INPUT_FIELD:\n      return state.map((currentSegment) => {\n        if (currentSegment.id === action.payload.segmentId) {\n          const newInputs = Array.from(currentSegment.inputs);\n          if (newInputs[0] === action.payload.oldField) {\n            newInputs[0] = action.payload.newField;\n          } else if (newInputs[1] === action.payload.oldField) {\n            newInputs[1] = action.payload.newField;\n          }\n          return Object.assign({}, currentSegment, {\n            inputs: newInputs,\n          });\n        }\n        return currentSegment;\n      });\n    case SET_VALUE:\n      return state.map((currentSegment) => {\n        if (currentSegment.id === action.payload.segmentId) {\n          if (typeof currentSegment[action.payload.field] !== \"undefined\")\n            return Object.assign({}, currentSegment, {\n              [action.payload.field]: Object.assign(\n                {},\n                currentSegment[action.payload.field],\n                {\n                  value: action.payload.value,\n                }\n              ),\n            });\n        }\n        return currentSegment;\n      });\n    case TOGGLE_FOLD:\n      return state.map((segment) => {\n        if (segment.id === action.payload.segmentId) {\n          return Object.assign({}, segment, { folded: !segment.folded });\n        }\n        return segment;\n      });\n    case ADD_SEGMENT:\n      return [...state, createSegment()];\n    case REMOVE_SEGMENT:\n      return [...state].filter(\n        (segment) => segment.id !== action.payload.segmentId\n      );\n    case MOVE_SEGMENT:\n      const { direction, segmentId } = action.payload;\n      const segmentIndex = getSegmentIndex({ segments: state }, segmentId);\n      if (segmentIndex === null) return state;\n      if (segmentIndex === 0 && direction === \"UP\") return state;\n      if (segmentIndex >= state.length - 1 && direction === \"DOWN\")\n        return state;\n      const nextState = [...state];\n      const segmentToMove = nextState.splice(segmentIndex, 1);\n      const nextSegmentIndex =\n        direction === \"UP\"\n          ? segmentIndex - 1\n          : direction === \"DOWN\"\n          ? segmentIndex + 1\n          : segmentIndex;\n      nextState.splice(nextSegmentIndex, 0, ...segmentToMove);\n      return nextState;\n    case RENAME_SEGMENT:\n      return state.map((segment) => {\n        if (segment.id === action.payload.segmentId) {\n          return { ...segment, name: action.payload.name };\n        }\n        return segment;\n      });\n    default:\n      return state;\n  }\n}\n","import { SPEED, PACE, TIME, DISTANCE } from \"state/constants\";\nimport { SET_TOTAL } from \"state/actionTypes\";\n\nconst defaultState = {\n  [SPEED.type]: {\n    value: 10,\n    unit: SPEED.unit\n  },\n  [PACE.type]: {\n    value: { min: 6, sec: 0 },\n    unit: PACE.unit\n  },\n  [TIME.type]: { value: { h: 1, min: 0, sec: 0 }, unit: TIME.unit },\n  [DISTANCE.type]: { value: 10, unit: DISTANCE.unit }\n};\n\nexport default function total(state = defaultState, action) {\n  switch (action.type) {\n    case SET_TOTAL:\n      const newState = Object.assign({}, state);\n      newState[SPEED.type].value = action.payload.speed;\n      newState[PACE.type].value = Object.assign({}, action.payload.pace);\n      newState[TIME.type].value = Object.assign({}, action.payload.time);\n      newState[DISTANCE.type].value = action.payload.distance;\n      return newState;\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport segments from \"./segments\";\nimport total from \"./total\";\n\nexport default combineReducers({\n  segments,\n  total\n});\n","import rootReducer from \"state/reducers\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n","import {\n  SET_INPUT_FIELD,\n  SET_VALUE,\n  SET_TOTAL,\n  TOGGLE_FOLD,\n  ADD_SEGMENT,\n  REMOVE_SEGMENT,\n  MOVE_SEGMENT,\n  RENAME_SEGMENT,\n} from \"state/actionTypes\";\n\nexport function setInputField(segmentId, oldField, newField) {\n  return {\n    type: SET_INPUT_FIELD,\n    payload: {\n      segmentId,\n      oldField,\n      newField,\n    },\n  };\n}\n\nexport function setValue(segmentId, field, value) {\n  return {\n    type: SET_VALUE,\n    payload: {\n      segmentId,\n      field,\n      value,\n    },\n  };\n}\n\nexport function setTotal(speed, pace, time, distance) {\n  return {\n    type: SET_TOTAL,\n    payload: {\n      speed,\n      pace,\n      time,\n      distance,\n    },\n  };\n}\n\nexport function toggleFold(segmentId) {\n  return {\n    type: TOGGLE_FOLD,\n    payload: {\n      segmentId,\n    },\n  };\n}\n\nexport function addSegment() {\n  return {\n    type: ADD_SEGMENT,\n    payload: {},\n  };\n}\n\nexport function removeSegment(segmentId) {\n  return {\n    type: REMOVE_SEGMENT,\n    payload: {\n      segmentId,\n    },\n  };\n}\n\nexport function moveSegment(segmentId, direction) {\n  return {\n    type: MOVE_SEGMENT,\n    payload: {\n      segmentId,\n      direction,\n    },\n  };\n}\n\nexport function renameSegment(segmentId, name) {\n  return {\n    type: RENAME_SEGMENT,\n    payload: {\n      segmentId,\n      name,\n    },\n  };\n}\n","function isSpeedValid(speed) {\n  try {\n    const numericSpeed = Number(speed);\n    if (!Number.isNaN(numericSpeed) && numericSpeed > 0) {\n      return true;\n    } else {\n      throw new Error();\n    }\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction isPaceValid(pace) {\n  try {\n    const min = Number(pace.min);\n    const sec = Number(pace.sec);\n    if (\n      Number.isInteger(min) &&\n      Number.isInteger(sec) &&\n      min >= 0 &&\n      sec >= 0 &&\n      sec < 60 &&\n      !(min + sec === 0)\n    ) {\n      return true;\n    }\n    throw new Error();\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction isTimeValid(time) {\n  try {\n    const h = Number(time.h);\n    const min = Number(time.min);\n    const sec = Number(time.sec);\n    if (\n      Number.isInteger(h) &&\n      Number.isInteger(min) &&\n      Number.isInteger(sec) &&\n      h >= 0 &&\n      min >= 0 &&\n      min < 60 &&\n      sec >= 0 &&\n      sec < 60 &&\n      !(h + min + sec === 0)\n    ) {\n      return true;\n    } else {\n      throw new Error();\n    }\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction isDistanceValid(distance) {\n  try {\n    const numericDistance = Number(distance);\n    if (!Number.isNaN(numericDistance) && numericDistance > 0) {\n      return true;\n    } else {\n      throw new Error();\n    }\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction getNumericPace(pace) {\n  if (isPaceValid(pace)) {\n    return Number(pace.min) + Number(pace.sec) / 60;\n  }\n  return null;\n}\n\nfunction getParsedPace(numericPace) {\n  try {\n    let min = Math.floor(numericPace);\n    let sec = Math.round((numericPace % 1) * 60);\n    if (sec === 60) {\n      sec = 0;\n      ++min;\n    }\n    return { min: min, sec: sec };\n  } catch (e) {\n    return null;\n  }\n}\n\nexport function convertSpeedToPace(speed) {\n  if (isSpeedValid(speed)) {\n    const numericPace = 1 / (Number(speed) / 60);\n    return getParsedPace(numericPace);\n  }\n  return null;\n}\n\nexport function convertPaceToSpeed(pace) {\n  if (isPaceValid(pace)) {\n    const numericPace = getNumericPace(pace);\n    return 60 / numericPace;\n  }\n  return null;\n}\n\nexport function stringifyPace(pace) {\n  if (isPaceValid(pace)) {\n    return `${pace.min}:${String(pace.sec).padStart(2, \"0\")}`;\n  }\n  return \"--:--\";\n}\n\nexport function stringifySpeed(speed) {\n  if (isSpeedValid(speed)) {\n    return parseFloat(speed).toFixed(1);\n  }\n  return \"--.-\";\n}\n\nexport function stringifyTime(time) {\n  if (isTimeValid(time)) {\n    const h = String(time.h).padStart(2, \"0\");\n    const min = String(time.min).padStart(2, \"0\");\n    const sec = String(time.sec).padStart(2, \"0\");\n    return `${h}:${min}:${sec}`;\n  }\n  return \"--:--:--\";\n}\n\nexport function stringifyDistance(distance) {\n  if (isDistanceValid(distance)) {\n    return parseFloat(distance).toFixed(2);\n  }\n  return \"--.--\";\n}\n\nexport function getNumericTime(time) {\n  if (isTimeValid(time)) {\n    return Number(time.h) + Number(time.min) / 60 + Number(time.sec) / 3600;\n  }\n  return null;\n}\n\nexport function getParsedTime(numericTime) {\n  try {\n    let h = Math.floor(numericTime);\n    let min = (numericTime % 1) * 60;\n    if (min > 60 - 1 / 60) {\n      min = 0;\n      ++h;\n    }\n    let sec = Math.round((min % 1) * 60);\n    if (sec === 60) {\n      sec = 0;\n      ++min;\n    }\n    return { h: h, min: Math.floor(min), sec: sec };\n  } catch (e) {\n    return null;\n  }\n}\n\nexport function calculateDistance(speed, time) {\n  if (isSpeedValid(speed) && isTimeValid(time)) {\n    const numericTime = getNumericTime(time);\n    return Math.round(Number(speed) * Number(numericTime) * 1000) / 1000;\n  }\n  return null;\n}\n\nexport function calculateTime(distance, speed) {\n  if (isDistanceValid(distance) && isSpeedValid(speed)) {\n    const numericTime = Number(distance) / Number(speed);\n    return getParsedTime(numericTime);\n  }\n  return null;\n}\n\nexport function calculateSpeed(distance, time) {\n  if (isDistanceValid(distance) && isTimeValid(time)) {\n    const numericTime = getNumericTime(time);\n    return distance / numericTime;\n  }\n  return null;\n}\n","import { setValue, setTotal, addSegment, removeSegment } from \"state/actions\";\nimport {\n  getOtherFieldType,\n  getFieldValue,\n  getAllValues\n} from \"state/selectors\";\nimport { PACE, SPEED, DISTANCE, TIME } from \"state/constants\";\nimport {\n  calculateDistance,\n  calculateTime,\n  convertSpeedToPace,\n  calculateSpeed,\n  convertPaceToSpeed,\n  getNumericTime,\n  getParsedTime\n} from \"utils\";\n\nexport const dispatchSpeed = (segmentId, speed) => (dispatch, getState) => {\n  const state = getState();\n  const pinnedType = getOtherFieldType(state, segmentId, SPEED.type);\n\n  dispatch(setValue(segmentId, SPEED.type, speed));\n  const pace = convertSpeedToPace(speed);\n  dispatch(setValue(segmentId, PACE.type, pace));\n\n  if (pinnedType === TIME.type) {\n    const currentTime = getFieldValue(state, segmentId, TIME.type);\n    const distance = calculateDistance(speed, currentTime);\n    dispatch(setValue(segmentId, DISTANCE.type, distance));\n  } else if (pinnedType === DISTANCE.type) {\n    const currentDistance = getFieldValue(state, segmentId, DISTANCE.type);\n    const time = calculateTime(currentDistance, speed);\n    dispatch(setValue(segmentId, TIME.type, time));\n  }\n  dispatch(dispatchTotal());\n};\n\nexport const dispatchPace = (segmentId, pace) => (dispatch, getState) => {\n  const state = getState();\n  const pinnedType = getOtherFieldType(state, segmentId, PACE.type);\n\n  dispatch(setValue(segmentId, PACE.type, pace));\n  const speed = convertPaceToSpeed(pace);\n  dispatch(setValue(segmentId, SPEED.type, speed));\n\n  if (pinnedType === TIME.type) {\n    const currentTime = getFieldValue(state, segmentId, TIME.type);\n    const distance = calculateDistance(speed, currentTime);\n    dispatch(setValue(segmentId, DISTANCE.type, distance));\n  } else if (pinnedType === DISTANCE.type) {\n    const currentDistance = getFieldValue(state, segmentId, DISTANCE.type);\n    const time = calculateTime(currentDistance, speed);\n    dispatch(setValue(segmentId, TIME.type, time));\n  }\n  dispatch(dispatchTotal());\n};\n\nexport const dispatchDistance = (segmentId, distance) => (\n  dispatch,\n  getState\n) => {\n  const state = getState();\n  const pinnedType = getOtherFieldType(state, segmentId, DISTANCE.type);\n\n  dispatch(setValue(segmentId, DISTANCE.type, distance));\n\n  if (pinnedType === SPEED.type || pinnedType === PACE.type) {\n    const currentSpeed = getFieldValue(state, segmentId, SPEED.type);\n    const time = calculateTime(distance, currentSpeed);\n    dispatch(setValue(segmentId, TIME.type, time));\n  } else if (pinnedType === TIME.type) {\n    const currentTime = getFieldValue(state, segmentId, TIME.type);\n    const speed = calculateSpeed(distance, currentTime);\n    const pace = convertSpeedToPace(speed);\n    dispatch(setValue(segmentId, SPEED.type, speed));\n    dispatch(setValue(segmentId, PACE.type, pace));\n  }\n  dispatch(dispatchTotal());\n};\n\nexport const dispatchTime = (segmentId, time) => (dispatch, getState) => {\n  const state = getState();\n  const pinnedType = getOtherFieldType(state, segmentId, TIME.type);\n\n  dispatch(setValue(segmentId, TIME.type, time));\n\n  if (pinnedType === SPEED.type || pinnedType === PACE.type) {\n    const currentSpeed = getFieldValue(state, segmentId, SPEED.type);\n    const distance = calculateDistance(currentSpeed, time);\n    dispatch(setValue(segmentId, DISTANCE.type, distance));\n  } else if (pinnedType === DISTANCE.type) {\n    const currentDistance = getFieldValue(state, segmentId, DISTANCE.type);\n    const speed = calculateSpeed(currentDistance, time);\n    const pace = convertSpeedToPace(speed);\n    dispatch(setValue(segmentId, SPEED.type, speed));\n    dispatch(setValue(segmentId, PACE.type, pace));\n  }\n  dispatch(dispatchTotal());\n};\n\nconst dispatchTotal = () => (dispatch, getState) => {\n  const state = getState();\n  const distances = getAllValues(state, DISTANCE.type);\n  const parsedTimes = getAllValues(state, TIME.type);\n  const numericTimes = parsedTimes.map((time) => getNumericTime(time));\n\n  const totalDistance = distances.reduce((acc, val) => acc + val, null);\n  const totalNumericTime = numericTimes.reduce((acc, val) => acc + val, null);\n  const totalParsedTime = getParsedTime(totalNumericTime);\n  const totalSpeed = calculateSpeed(totalDistance, totalParsedTime);\n  const totalPace = convertSpeedToPace(totalSpeed);\n\n  dispatch(setTotal(totalSpeed, totalPace, totalParsedTime, totalDistance));\n};\n\nexport const dispatchNewSegment = () => (dispatch, getState) => {\n  dispatch(addSegment());\n  dispatch(dispatchTotal());\n};\n\nexport const dispatchDeleteSegment = (segmentId) => (dispatch, getState) => {\n  dispatch(removeSegment(segmentId));\n  dispatch(dispatchTotal());\n};\n","import { useState } from \"react\";\nconst useInput = ({\n  initialValue = 0,\n  dispatchHandler,\n  nbDecimals = 0,\n  maxValue = 99,\n  padStart = 0, // Has effect only if nbDecimals = 0 (fills the displayed value with zeros)\n  overflowHandler // If provided, this function is called when onIncrement is triggered and the value is at its max (sends arg \"CEIL\") or 0 (sends arg \"FLOOR\")\n}) => {\n  const padValue = (value) =>\n    padStart ? String(value).padStart(padStart, \"0\") : value;\n\n  const [displayedValue, setDisplayedValue] = useState(() =>\n    padValue(initialValue)\n  );\n\n  const dispatch = (typedValue) => {\n    const valueToDisplay = typedValue;\n    setDisplayedValue(valueToDisplay);\n    if (dispatchHandler instanceof Function) dispatchHandler(typedValue);\n  };\n\n  const onChange = (e) => {\n    let typedValue = String(e.target.value).replaceAll(\",\", \".\").trim();\n    let parsedValue = parseFloat(typedValue);\n    let separatorPosition = typedValue.indexOf(\".\");\n\n    if (isNaN(+typedValue)) return;\n    if (nbDecimals === 0 && separatorPosition >= 0) return;\n    if (parsedValue > maxValue) return;\n    if (separatorPosition >= 0) {\n      if (nbDecimals === 0) return;\n      if (separatorPosition < typedValue.length - (nbDecimals + 1)) return;\n    }\n\n    dispatch(typedValue);\n  };\n\n  const onIncrement = () => {\n    const step = 1 / +`1${Array(nbDecimals + 1).join(0)}`;\n    let nextValue = parseFloat(+displayedValue + step).toFixed(2);\n    if (nextValue <= maxValue) {\n      nextValue = parseFloat(nextValue).toFixed(nbDecimals);\n      dispatch(padValue(nextValue));\n    } else if (overflowHandler instanceof Function) {\n      overflowHandler(\"CEIL\");\n    }\n  };\n\n  const onDecrement = () => {\n    const step = 1 / +`1${Array(nbDecimals + 1).join(0)}`;\n    let nextValue = +displayedValue - step;\n    if (nextValue >= 0) {\n      nextValue = parseFloat(nextValue).toFixed(nbDecimals);\n      dispatch(padValue(nextValue));\n    } else if (overflowHandler instanceof Function) {\n      overflowHandler(\"FLOOR\");\n    }\n  };\n\n  const forceValue = (value) => {\n    setDisplayedValue(value);\n  };\n\n  return {\n    displayedValue: displayedValue,\n    onChange: onChange,\n    onIncrement: onIncrement,\n    onDecrement: onDecrement,\n    forceValue: forceValue\n  };\n};\n\nexport default useInput;\n","import React from \"react\";\nimport PropType from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { DISTANCE } from \"state/constants\";\nimport { getFieldValue } from \"state/selectors\";\nimport { dispatchDistance } from \"state/middlewares\";\nimport { BasicInput, StyledInputWrapper, StyledUnit } from \".\";\nimport { useInput } from \"components/Input/hooks\";\nimport { stringifyDistance } from \"utils\";\n\nconst DistanceInput = ({ segmentId, value, dispatchValue }) => {\n  const dispatchHandler = (typedValue) => {\n    try {\n      let distance = Number(typedValue);\n      if (distance < 0 || !distance) distance = 0;\n      dispatchValue(segmentId, distance);\n    } catch (e) {\n      return;\n    }\n  };\n\n  const { displayedValue, onChange, onIncrement, onDecrement } = useInput({\n    initialValue: stringifyDistance(value),\n    dispatchHandler: dispatchHandler,\n    nbDecimals: 2,\n    maxValue: 99.99\n  });\n\n  return (\n    <StyledInputWrapper>\n      <BasicInput\n        value={displayedValue}\n        onChange={onChange}\n        onIncrement={onIncrement}\n        onDecrement={onDecrement}\n        width=\"3.2em\"\n      />\n      <StyledUnit>{DISTANCE.unit}</StyledUnit>\n    </StyledInputWrapper>\n  );\n};\n\nDistanceInput.propType = {\n  segmentId: PropType.number.isRequired,\n  value: PropType.number.isRequired,\n  dispatchValue: PropType.func.isRequired\n};\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    value: getFieldValue(state, ownProps.segmentId, DISTANCE.type)\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchValue: (segmentId, value) => {\n      return dispatch(dispatchDistance(segmentId, value));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DistanceInput);\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { SPEED, PACE, DISTANCE, TIME } from \"state/constants\";\nimport { setInputField } from \"state/actions\";\nimport { keyframes } from \"@emotion/react\";\n\nconst fieldLabelMap = {\n  [SPEED.type]: SPEED.label,\n  [PACE.type]: PACE.label,\n  [TIME.type]: TIME.label,\n  [DISTANCE.type]: DISTANCE.label\n};\n\nconst FieldType = ({ segmentId, value, options, dispatchField }) => {\n  const optionComponents = options.map((option) => {\n    return (\n      <option key={option} value={option}>\n        {fieldLabelMap[option]}\n      </option>\n    );\n  });\n\n  const onChangeHandler = (e) => {\n    dispatchField(segmentId, value, e.target.value);\n  };\n\n  return (\n    <SelectContainer>\n      <Select\n        name={`field_type_${value.toLowerCase()}`}\n        id={`field_type_${value.toLowerCase()}`}\n        value={value}\n        onChange={onChangeHandler}\n      >\n        {optionComponents}\n      </Select>\n    </SelectContainer>\n  );\n};\n\nFieldType.propTypes = {\n  segmentId: PropTypes.number.isRequired,\n  value: PropTypes.oneOf([SPEED.type, PACE.type, TIME.type, DISTANCE.type])\n    .isRequired,\n  options: PropTypes.arrayOf(\n    PropTypes.oneOf([SPEED.type, PACE.type, TIME.type, DISTANCE.type])\n      .isRequired\n  ),\n  dispatchField: PropTypes.func.isRequired\n};\n\nconst arrowAnimation = keyframes`\n  0%{\n    transform: translateY(0);\n  } 40% {\n    transform: translateY(3px);\n  } 80% {\n    transform: translateY(0);\n  } \n`;\n\nconst SelectContainer = styled.div`\n  position: relative;\n\n  &::before {\n    content: \"\";\n    display: block;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    border: 1px solid ${({ theme }) => theme.color.mediumGrey};\n    border-radius: 1.5em;\n    background-color: ${({ theme }) => theme.color.lightGrey};\n    z-index: 0;\n    opacity: 0;\n    transition: opacity 120ms ease-in-out;\n  }\n\n  &::after {\n    content: \"▾\";\n    position: absolute;\n    display: block;\n    color: ${({ theme }) => theme.color.secondary};\n    right: 1.5em;\n    top: 0.25em;\n    font-size: 1.25em;\n    transition: transform 200ms ease-in-out;\n  }\n\n  &:hover {\n    &::before {\n      opacity: 1;\n    }\n    &::after {\n      animation: ${arrowAnimation} 800ms ease-in-out infinite;\n    }\n  }\n`;\n\nconst Select = styled.select`\n  position: relative;\n  display: block;\n  font-size: 1.2em;\n  color: ${({ theme }) => theme.color.body};\n  line-height: 1.3;\n  padding: 0.3em 1em 0.2em 1.5em;\n  width: 100%;\n  min-width: 8em;\n  box-sizing: border-box;\n  margin: 0;\n  border: none;\n  border-radius: 1em;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  background: none;\n  cursor: pointer;\n  z-index: 1;\n\n  &::-ms-expand {\n    display: none;\n  }\n`;\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchField: (segmentId, field, value) => {\n      dispatch(setInputField(segmentId, field, value));\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(FieldType);\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIncreaseIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 13.289,\n    height: 7.644,\n    viewBox: \"0 0 13.289 7.644\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Trac\\\\xE9_9\",\n    \"data-name\": \"Trac\\\\xE9 9\",\n    d: \"M-25.6,11.2l5.23-5.23,5.23,5.23\",\n    transform: \"translate(27.015 -4.972)\",\n    fill: \"none\",\n    stroke: \"#c1c1c1\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIncreaseIcon);\nexport default __webpack_public_path__ + \"static/media/increase_icon.c696fee2.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { css } from \"@emotion/react\";\nimport PropType from \"prop-types\";\n\nimport { ReactComponent as ArrowIcon } from \"static/increase_icon.svg\";\n\nconst BasicInput = ({\n  value,\n  onChange,\n  onIncrement,\n  onDecrement,\n  width = \"2em\",\n}) => {\n  const onKeyDown = (e) => {\n    switch (e.key) {\n      case \"ArrowUp\":\n        e.preventDefault();\n        onIncrement();\n        break;\n      case \"ArrowDown\":\n        e.preventDefault();\n        onDecrement();\n        break;\n      default:\n        return;\n    }\n  };\n\n  return (\n    <Wrapper>\n      <Input\n        type=\"text\"\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        value={value}\n        width={width}\n      />\n      <Controls>\n        <ButtonContainer onClick={onIncrement}>\n          <ArrowIcon style={{ width: \"0.7em\" }} />\n        </ButtonContainer>\n        <ReversedButtonContainer onClick={onDecrement}>\n          <ArrowIcon style={{ width: \"0.7em\" }} />\n        </ReversedButtonContainer>\n      </Controls>\n    </Wrapper>\n  );\n};\n\nBasicInput.propTypes = {\n  value: PropType.string.isRequired,\n  onChange: PropType.func.isRequired,\n  onIncrement: PropType.func.isRequired,\n  onDecrement: PropType.func.isRequired,\n  width: PropType.string,\n};\n\nconst underlineStyle = css`\n  content: \"\";\n  display: block;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n`;\n\nconst Wrapper = styled.div`\n  position: relative;\n  float: left;\n\n  &::before {\n    ${underlineStyle}\n    background-color: ${({ theme }) => theme.color.mediumGrey};\n  }\n\n  &::after {\n    ${underlineStyle}\n    background-color: ${({ theme }) => theme.color.secondary};\n    opacity: 0;\n    transition: opacity 250ms ease-in-out;\n  }\n\n  &:hover,\n  &:focus {\n    &::after {\n      opacity: 1;\n    }\n  }\n`;\n\nconst Input = styled.input`\n  color: ${({ theme }) => theme.color.body};\n  font-size: 1.75em;\n  margin-right: 0.6em;\n  text-align: center;\n  border: none;\n  background: none;\n  width: ${({ width }) => width};\n`;\n\nconst Controls = styled.div`\n  position: absolute;\n  right: 0;\n  bottom: 0;\n`;\n\nconst ButtonContainer = styled.button`\n  cursor: pointer;\n  display: block;\n  background: none;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    path {\n      stroke: ${({ theme }) => theme.color.secondary};\n    }\n  }\n`;\n\nconst ReversedButtonContainer = styled(ButtonContainer)`\n  transform: rotate(180deg);\n`;\n\nexport default BasicInput;\n","import React from \"react\";\nimport PropType from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { BasicInput, StyledInputWrapper, StyledSeparator, StyledUnit } from \".\";\nimport { PACE } from \"state/constants\";\nimport { getFieldValue } from \"state/selectors\";\nimport { dispatchPace } from \"state/middlewares\";\nimport { useInput } from \"components/Input/hooks\";\n\nconst PaceInput = ({ segmentId, value, dispatchValue }) => {\n  const dispatchHandler = (field) => (typedValue) => {\n    try {\n      const paceField = Number(typedValue);\n      const pace = { ...value, [field]: paceField };\n      dispatchValue(segmentId, pace);\n    } catch (e) {\n      return;\n    }\n  };\n\n  const overflowHandler = (side) => {\n    switch (side) {\n      case \"CEIL\":\n        if (value.min < 59) {\n          dispatchValue(segmentId, { min: value.min + 1, sec: 0 });\n          minHandler.forceValue(String(value.min + 1));\n          secHandler.forceValue(\"00\");\n        }\n        break;\n      case \"FLOOR\":\n        if (value.min > 0) {\n          dispatchValue(segmentId, { min: value.min - 1, sec: 59 });\n          minHandler.forceValue(String(value.min - 1));\n          secHandler.forceValue(\"59\");\n        }\n        break;\n      default:\n        return;\n    }\n  };\n\n  const minHandler = useInput({\n    initialValue: String(value.min),\n    dispatchHandler: dispatchHandler(\"min\"),\n    nbDecimals: 0,\n    maxValue: 59,\n  });\n\n  const secHandler = useInput({\n    initialValue: String(value.sec),\n    dispatchHandler: dispatchHandler(\"sec\"),\n    overflowHandler: overflowHandler,\n    nbDecimals: 0,\n    maxValue: 59,\n    padStart: 2,\n  });\n\n  return (\n    <StyledInputWrapper>\n      <BasicInput\n        value={minHandler.displayedValue}\n        onChange={minHandler.onChange}\n        onIncrement={minHandler.onIncrement}\n        onDecrement={minHandler.onDecrement}\n        width=\"1.2em\"\n      />\n      <StyledSeparator>:</StyledSeparator>\n      <BasicInput\n        value={secHandler.displayedValue}\n        onChange={secHandler.onChange}\n        onIncrement={secHandler.onIncrement}\n        onDecrement={secHandler.onDecrement}\n        width=\"1.2em\"\n      />\n      <StyledUnit>{PACE.unit}</StyledUnit>\n    </StyledInputWrapper>\n  );\n};\n\nPaceInput.propType = {\n  segmentId: PropType.number.isRequired,\n  value: PropType.exact({\n    min: PropType.number,\n    sec: PropType.number,\n  }).isRequired,\n  dispatchValue: PropType.func.isRequired,\n};\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    value: getFieldValue(state, ownProps.segmentId, PACE.type),\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchValue: (segmentId, value) =>\n      dispatch(dispatchPace(segmentId, value)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PaceInput);\n","import React from \"react\";\nimport PropType from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { SPEED } from \"state/constants\";\nimport { getFieldValue } from \"state/selectors\";\nimport { dispatchSpeed } from \"state/middlewares\";\nimport { stringifySpeed } from \"utils\";\nimport { useInput } from \"components/Input/hooks\";\nimport { BasicInput, StyledInputWrapper, StyledUnit } from \".\";\n\nconst SpeedInput = ({ segmentId, value, dispatchValue }) => {\n  const dispatchHandler = (typedValue) => {\n    try {\n      let speed = Number(typedValue);\n      dispatchValue(segmentId, speed);\n    } catch (e) {\n      return;\n    }\n  };\n\n  const { displayedValue, onChange, onIncrement, onDecrement } = useInput({\n    initialValue: stringifySpeed(value),\n    dispatchHandler: dispatchHandler,\n    nbDecimals: 1,\n    maxValue: 99.9\n  });\n\n  return (\n    <StyledInputWrapper>\n      <BasicInput\n        value={displayedValue}\n        onChange={onChange}\n        onIncrement={onIncrement}\n        onDecrement={onDecrement}\n        width=\"2em\"\n      />\n      <StyledUnit>{SPEED.unit}</StyledUnit>\n    </StyledInputWrapper>\n  );\n};\n\nSpeedInput.propTypes = {\n  segmentId: PropType.number.isRequired,\n  value: PropType.number.isRequired,\n  dispatchValue: PropType.func.isRequired\n};\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    value: getFieldValue(state, ownProps.segmentId, SPEED.type)\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchValue: (segmentId, value) =>\n      dispatch(dispatchSpeed(segmentId, value))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SpeedInput);\n","import styled from \"@emotion/styled\";\n\nconst StyledInputWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n`;\n\nexport default StyledInputWrapper;\n","import styled from \"@emotion/styled\";\n\nconst StyledSeparator = styled.span`\n  display: inline-block;\n  color: ${({ theme }) => theme.color.mediumGrey};\n  font-size: 1.5em;\n  padding: 0 0.25em;\n  transform: translateY(-0.25em);\n`;\n\nexport default StyledSeparator;\n","import { css } from \"@emotion/react\";\n\nexport const UnitStyle = (theme) => css`\n  font-size: 0.8em;\n  color: ${theme.color.heavyGrey};\n`;\n","import { css } from \"@emotion/react\";\n\nexport default css`\n  @import url(\"https://fonts.googleapis.com/css?family=Lato|Spartan:400,700&display=swap\");\n\n  body {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: \"Lato\", sans-serif;\n    background-color: #fbfbfb;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  button {\n    font-family: \"Spartan\", sans-serif;\n  }\n`;\n","import styled from \"@emotion/styled\";\nimport { UnitStyle } from \"styles\";\n\nexport const StyledUnit = styled.span`\n  display: inline-block;\n  padding: 0 0 0.3em 0.75em;\n  ${({ theme }) => UnitStyle(theme)}\n`;\n\nexport default StyledUnit;\n","import React from \"react\";\nimport PropType from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { BasicInput, StyledInputWrapper, StyledSeparator } from \".\";\nimport { TIME } from \"state/constants\";\nimport { getFieldValue } from \"state/selectors\";\nimport { dispatchTime } from \"state/middlewares\";\nimport { useInput } from \"components/Input/hooks\";\n\nconst TimeInput = ({ segmentId, value, dispatchValue }) => {\n  const dispatchHandler = (field) => (typedValue) => {\n    try {\n      const speedField = Number(typedValue);\n      const speed = { ...value, [field]: speedField };\n      dispatchValue(segmentId, speed);\n    } catch (e) {\n      return;\n    }\n  };\n\n  const overflowHandler = (field) => (side) => {\n    switch (side) {\n      case \"CEIL\":\n        if (field === \"sec\") {\n          if (value.min < 59) {\n            dispatchValue(segmentId, { ...value, min: value.min + 1, sec: 0 });\n            minHandler.forceValue(String(value.min + 1).padStart(2, \"0\"));\n            secHandler.forceValue(\"00\");\n          } else if (value.min === 59 && value.h < 99) {\n            dispatchValue(segmentId, { h: value.h + 1, min: 0, sec: 0 });\n            hHandler.forceValue(String(value.h + 1).padStart(2, \"0\"));\n            minHandler.forceValue(\"00\");\n            secHandler.forceValue(\"00\");\n          }\n        } else if (field === \"min\") {\n          if (value.h < 99) {\n            dispatchValue(segmentId, { ...value, h: value.h + 1, min: 0 });\n            hHandler.forceValue(String(value.h + 1).padStart(2, \"0\"));\n            minHandler.forceValue(\"00\");\n          }\n        }\n        break;\n      case \"FLOOR\":\n        if (field === \"sec\") {\n          if (value.min > 0) {\n            dispatchValue(segmentId, { ...value, min: value.min - 1, sec: 59 });\n            minHandler.forceValue(String(value.min - 1).padStart(2, \"0\"));\n            secHandler.forceValue(\"59\");\n          } else if (value.min === 0 && value.h > 0) {\n            dispatchValue(segmentId, { h: value.h - 1, min: 59, sec: 59 });\n            hHandler.forceValue(String(value.h - 1).padStart(2, \"0\"));\n            minHandler.forceValue(\"59\");\n            secHandler.forceValue(\"59\");\n          }\n        } else if (field === \"min\") {\n          if (value.h > 0) {\n            dispatchValue(segmentId, { ...value, h: value.h - 1, min: 59 });\n            hHandler.forceValue(String(value.h - 1).padStart(2, \"0\"));\n            minHandler.forceValue(\"59\");\n          }\n        }\n        break;\n      default:\n        return;\n    }\n  };\n\n  const hHandler = useInput({\n    initialValue: String(value.h),\n    dispatchHandler: dispatchHandler(\"h\"),\n    nbDecimals: 0,\n    maxValue: 99,\n    padStart: 2,\n  });\n  const minHandler = useInput({\n    initialValue: String(value.min),\n    dispatchHandler: dispatchHandler(\"min\"),\n    overflowHandler: overflowHandler(\"min\"),\n    nbDecimals: 0,\n    maxValue: 59,\n    padStart: 2,\n  });\n  const secHandler = useInput({\n    initialValue: String(value.sec),\n    dispatchHandler: dispatchHandler(\"sec\"),\n    overflowHandler: overflowHandler(\"sec\"),\n    nbDecimals: 0,\n    maxValue: 59,\n    padStart: 2,\n  });\n\n  return (\n    <StyledInputWrapper>\n      <BasicInput\n        value={hHandler.displayedValue}\n        onChange={hHandler.onChange}\n        onIncrement={hHandler.onIncrement}\n        onDecrement={hHandler.onDecrement}\n        width=\"1.2em\"\n      />\n      <StyledSeparator>:</StyledSeparator>\n      <BasicInput\n        value={minHandler.displayedValue}\n        onChange={minHandler.onChange}\n        onIncrement={minHandler.onIncrement}\n        onDecrement={minHandler.onDecrement}\n        width=\"1.2em\"\n      />\n      <StyledSeparator>:</StyledSeparator>\n      <BasicInput\n        value={secHandler.displayedValue}\n        onChange={secHandler.onChange}\n        onIncrement={secHandler.onIncrement}\n        onDecrement={secHandler.onDecrement}\n        width=\"1.2em\"\n      />\n    </StyledInputWrapper>\n  );\n};\n\nTimeInput.propTypes = {\n  segmentId: PropType.number.isRequired,\n  value: PropType.exact({\n    h: PropType.number,\n    min: PropType.number,\n    sec: PropType.number,\n  }).isRequired,\n  dispatchValue: PropType.func.isRequired,\n};\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    value: getFieldValue(state, ownProps.segmentId, TIME.type),\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatchValue: (segmentId, value) =>\n      dispatch(dispatchTime(segmentId, value)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TimeInput);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"@emotion/styled\";\n\nimport { PACE, SPEED, DISTANCE, TIME } from \"state/constants\";\nimport {\n  SpeedInput,\n  PaceInput,\n  DistanceInput,\n  TimeInput,\n  FieldType\n} from \"./components\";\n\nconst Input = ({ segmentId, type, options }) => {\n  const inputMap = {\n    [SPEED.type]: SpeedInput,\n    [PACE.type]: PaceInput,\n    [DISTANCE.type]: DistanceInput,\n    [TIME.type]: TimeInput\n  };\n\n  return (\n    <Wrapper>\n      <InputContainer>\n        <FieldType segmentId={segmentId} value={type} options={options} />\n      </InputContainer>\n      <InputContainer>\n        {React.createElement(inputMap[type], { segmentId: segmentId })}\n      </InputContainer>\n    </Wrapper>\n  );\n};\n\nInput.propTypes = {\n  segmentId: PropTypes.number.isRequired,\n  type: PropTypes.oneOf([TIME.type, SPEED.type, PACE.type, DISTANCE.type])\n    .isRequired,\n  options: PropTypes.arrayOf(\n    PropTypes.oneOf([TIME.type, SPEED.type, PACE.type, DISTANCE.type])\n  ).isRequired\n};\n\nconst Wrapper = styled.div`\n  padding-bottom: 0.3em;\n`;\n\nconst InputContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  margin: 0.25em 0;\n`;\n\nexport default Input;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport styled from \"@emotion/styled\";\n\nimport {\n  stringifySpeed,\n  stringifyPace,\n  stringifyTime,\n  stringifyDistance\n} from \"utils\";\nimport { PACE, SPEED, TIME, DISTANCE } from \"state/constants\";\nimport { getFieldValue, getTotalField } from \"state/selectors\";\nimport { UnitStyle } from \"styles\";\n\nconst Output = ({ segmentId = null, type, content }) => {\n  let stringifiedValue = null;\n  let label = null;\n  let unit = null;\n\n  switch (type) {\n    case SPEED.type:\n      stringifiedValue = stringifySpeed(content);\n      label = SPEED.label;\n      unit = SPEED.unit;\n      break;\n    case PACE.type:\n      stringifiedValue = stringifyPace(content);\n      label = PACE.label;\n      unit = PACE.unit;\n      break;\n    case TIME.type:\n      stringifiedValue = stringifyTime(content);\n      label = TIME.label;\n      unit = TIME.unit;\n      break;\n    case DISTANCE.type:\n      stringifiedValue = stringifyDistance(content);\n      label = DISTANCE.label;\n      unit = DISTANCE.unit;\n      break;\n    default:\n      stringifiedValue = content;\n  }\n\n  return (\n    <Container>\n      <Box>\n        <Label>{label}</Label>\n        <Result>\n          <Value>{stringifiedValue}</Value>\n          {!(type === TIME.type) && <Unit> {unit}</Unit>}\n        </Result>\n      </Box>\n    </Container>\n  );\n};\n\nOutput.propTypes = {\n  segmentId: PropTypes.number,\n  type: PropTypes.oneOf([TIME.type, SPEED.type, PACE.type, DISTANCE.type]),\n  content: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.exact({\n      min: PropTypes.number,\n      sec: PropTypes.number\n    }),\n    PropTypes.exact({\n      h: PropTypes.number,\n      min: PropTypes.number,\n      sec: PropTypes.number\n    })\n  ])\n};\n\nconst Container = styled.div`\n  display: flex;\n  margin: auto 1em auto 0;\n  flex: auto;\n`;\n\nconst Box = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n`;\n\nconst Label = styled.span`\n  color: ${({ theme }) => theme.color.secondary};\n  text-transform: uppercase;\n  font-size: 0.75em;\n  font-family: \"Spartan\", sans-serif;\n`;\n\nconst Result = styled.div`\n  white-space: nowrap;\n`;\n\nconst Value = styled.span`\n  color: ${({ theme }) => theme.color.lightGrey};\n  font-weight: 700;\n  font-size: 1.2em;\n`;\n\nconst Unit = styled.span`\n  ${({ theme }) => UnitStyle(theme)}\n`;\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    content:\n      typeof ownProps.segmentId === \"number\"\n        ? getFieldValue(state, ownProps.segmentId, ownProps.type)\n        : getTotalField(state, ownProps.type).value\n  };\n}\n\nexport default connect(mapStateToProps)(Output);\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPencilIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 27.101,\n    height: 39.941,\n    viewBox: \"0 0 27.101 39.941\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Trac\\\\xE9_2\",\n    \"data-name\": \"Trac\\\\xE9 2\",\n    d: \"M109.049,378.594a3,3,0,0,0-3,3v31l3,6.4,3-6.4v-31A3,3,0,0,0,109.049,378.594Zm.49,37h-.98l-1.41-3.01h3.8Zm1.51-4.01h-4v-28h4Zm0-29h-4v-.99a2,2,0,0,1,4,0Zm.5,30h-.05l.05-.11Z\",\n    transform: \"translate(118.678 -380.213) rotate(30)\",\n    fill: \"#102334\",\n    stroke: \"#102335\",\n    strokeWidth: 1\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPencilIcon);\nexport default __webpack_public_path__ + \"static/media/pencil_icon.cc67d898.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"@emotion/styled\";\n\nconst StyledActionButton = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.8em;\n  height: 1.8em;\n  border-radius: 0.9em;\n  border: none;\n  background-color: ${({ theme }) => theme.color.white};\n  box-shadow: 0 0 8px 1px ${({ theme }) => theme.color.mediumGrey};\n  padding: 0;\n  margin: 0 0 0.5em 0;\n  opacity: 0;\n  transform: scale(0.25);\n  transition: opacity 120ms ease-in-out, transform 120ms ease-in-out;\n\n  &:not([disabled]) {\n    cursor: pointer;\n  }\n\n  &:hover:not([disabled]),\n  &:focus {\n    background-color: ${({ theme, hoverColor }) => theme.color[hoverColor]};\n    transform: scale(1);\n    opacity: 1;\n\n    & line {\n      stroke: ${({ theme, hoverStrokeColor }) => theme.color[hoverStrokeColor]};\n    }\n\n    & path {\n      fill: ${({ theme, hoverStrokeColor }) => theme.color[hoverStrokeColor]};\n    }\n  }\n`;\n\nexport default StyledActionButton;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { css } from \"@emotion/react\";\nimport styled from \"@emotion/styled\";\nimport PropTypes from \"prop-types\";\n\nimport { getSegmentById, getSegmentIndex } from \"state/selectors\";\nimport { renameSegment } from \"state/actions\";\nimport StyledActionButton from \"./StyledActionButton\";\nimport { ReactComponent as PencilIconSvg } from \"static/pencil_icon.svg\";\n\nconst SegmentName = ({ segmentId, name, position, dispatchName }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const inputRef = useRef();\n  const wrapperRef = useRef();\n\n  useEffect(() => {\n    if (isEditing) {\n      /** Trick to open keyboard on iOS :\n       *  Create a fake input, set the focus within\n       *  and after a delay, set the focus to the\n       * real target and remove the fake input\n       */\n      const fakeInput = document.createElement(\"input\"); // (trick)\n      fakeInput.setAttribute(\"type\", \"text\"); // (trick)\n      fakeInput.style.position = \"absolute\"; // (trick)\n      fakeInput.style.opacity = 0; // (trick)\n      fakeInput.style.height = 0; // (trick)\n      fakeInput.style.fontSize = \"16px\"; // (trick)\n      wrapperRef.current.append(fakeInput); // (trick)\n      fakeInput.focus(); // (trick)\n\n      setTimeout(() => {\n        inputRef.current.focus();\n        inputRef.current.selectionStart = 0;\n        inputRef.current.selectionEnd = inputRef.current.value.length;\n\n        fakeInput.remove(); // (trick)\n      }, 150); // (trick)\n    }\n  }, [isEditing]);\n\n  function toggleEdit() {\n    setIsEditing(!isEditing);\n  }\n\n  function nameChangeHandler(event) {\n    const name = event.target.value;\n    dispatchName(name);\n  }\n\n  function blurHandler(event) {\n    setIsEditing(false);\n    if (!event.target.value) dispatchName(null);\n  }\n\n  function keyDownHandler(event) {\n    if (event.key === \"Enter\") {\n      inputRef.current.selectionStart = 0;\n      inputRef.current.selectionEnd = 0;\n      inputRef.current.blur();\n    }\n  }\n\n  const displayedName = name ?? `Étape ${position}`;\n\n  return (\n    <Wrapper ref={wrapperRef}>\n      <Title>\n        <Input\n          ref={inputRef}\n          type=\"text\"\n          value={displayedName}\n          onChange={nameChangeHandler}\n          onBlur={blurHandler}\n          onKeyDown={keyDownHandler}\n          readOnly={!isEditing}\n          maxLength={35}\n        />\n        <Placeholder aria-hidden>{displayedName}</Placeholder>\n      </Title>\n      {!isEditing && (\n        <EditActionZone>\n          <ActionButton\n            id={`editSegmentName-${segmentId}`}\n            className=\"actionButton\"\n            hoverColor=\"secondary\"\n            hoverStrokeColor=\"body\"\n            onClick={toggleEdit}\n            aria-label=\"Renommer le segment\"\n          >\n            <PencilIcon />\n          </ActionButton>\n        </EditActionZone>\n      )}\n    </Wrapper>\n  );\n};\n\nSegmentName.propTypes = {\n  segmentId: PropTypes.number.isRequired,\n};\n\nconst Wrapper = styled.div``;\n\nconst TitleStyle = (theme) => css`\n  font-weight: bold;\n  font-size: 0.9rem;\n  letter-spacing: 0.05em;\n  padding: 0.35em 0.25em 0em 1em;\n  text-transform: uppercase;\n  color: ${theme.color.white};\n  line-height: 1.15;\n`;\n\nconst Title = styled.h3`\n  position: relative;\n  display: inline-block;\n  max-width: 94%;\n  margin: 0;\n  background-color: ${({ theme }) => theme.color.primary};\n  border-radius: 12px;\n  padding: 0.25em 0.4em 0.15em 0.4em;\n  z-index: 10;\n  box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n`;\n\nconst Input = styled.input`\n  position: absolute;\n  top: 0.25em;\n  left: 0;\n  width: 100%;\n  ${({ theme }) => TitleStyle(theme)}\n  background: none;\n  border: none;\n  margin: 0;\n  overflow: hidden;\n  &[readonly] {\n    outline: none;\n  }\n`;\n\nconst Placeholder = styled.span`\n  ${({ theme }) => TitleStyle(theme)}\n  display: inline-block;\n  white-space: pre;\n  visibility: hidden;\n  max-width: 100%;\n`;\n\nconst EditActionZone = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\nconst ActionButton = styled(StyledActionButton)`\n  position: absolute;\n  bottom: 0.5em;\n  left: -0.75em;\n  z-index: 20;\n\n  @media screen and (max-width: ${({ theme }) => theme.bp.sm}px) {\n    bottom: 0;\n  }\n`;\n\nconst ActionIcon = styled.svg`\n  width: 0.8em;\n`;\n\nconst PencilIcon = styled(ActionIcon)``.withComponent(PencilIconSvg);\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    name: getSegmentById(state, ownProps.segmentId).name,\n    position: getSegmentIndex(state, ownProps.segmentId) + 1,\n  };\n}\n\nfunction mapDispatchToProps(dispatch, ownProps) {\n  return {\n    dispatchName: (value) => {\n      return dispatch(renameSegment(ownProps.segmentId, value));\n    },\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SegmentName);\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFoldIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 19.175,\n    height: 22.04,\n    viewBox: \"0 0 19.175 22.04\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"fold_icon\",\n    \"data-name\": \"fold_icon\",\n    transform: \"translate(-1516.545 -288.611)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"inside\",\n    transform: \"translate(1535.72 301.063) rotate(135)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"arrow_edge\",\n    \"data-name\": \"arrow_edge\",\n    d: \"M9.249,10.206H.957A.957.957,0,0,1,0,9.249V.957a.957.957,0,0,1,1.914,0V8.292H9.249a.957.957,0,1,1,0,1.914Zm0,0\",\n    transform: \"translate(0 3.353)\",\n    fill: \"#f7fafa\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"arrow_core\",\n    \"data-name\": \"arrow_core\",\n    d: \"M.957,13.559A.957.957,0,0,1,.28,11.924L11.925.28a.957.957,0,0,1,1.353,1.354L1.634,13.278A.954.954,0,0,1,.957,13.559Zm0,0\",\n    transform: \"translate(0 0)\",\n    fill: \"#f7fafa\"\n  })), /*#__PURE__*/React.createElement(\"line\", {\n    id: \"line\",\n    \"data-name\": \"line\",\n    x2: 13.352,\n    transform: \"translate(1519.687 289.611)\",\n    fill: \"none\",\n    stroke: \"#fff\",\n    strokeLinecap: \"round\",\n    strokeWidth: 2\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFoldIcon);\nexport default __webpack_public_path__ + \"static/media/fold_icon.a60a8f65.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDeleteIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 19.69,\n    height: 19.69,\n    viewBox: \"0 0 19.69 19.69\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Groupe_57\",\n    \"data-name\": \"Groupe 57\",\n    transform: \"translate(-1505.655 -98.655)\"\n  }, /*#__PURE__*/React.createElement(\"line\", {\n    id: \"Ligne_5\",\n    \"data-name\": \"Ligne 5\",\n    y1: 14.033,\n    x2: 14.033,\n    transform: \"translate(1508.483 101.483)\",\n    fill: \"none\",\n    stroke: \"#341010\",\n    strokeLinecap: \"round\",\n    strokeWidth: 3\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    id: \"Ligne_6\",\n    \"data-name\": \"Ligne 6\",\n    x2: 14.033,\n    y2: 14.033,\n    transform: \"translate(1508.483 101.483)\",\n    fill: \"none\",\n    stroke: \"#341010\",\n    strokeLinecap: \"round\",\n    strokeWidth: 3\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDeleteIcon);\nexport default __webpack_public_path__ + \"static/media/delete_icon.92696a23.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 19.176,\n    height: 19.176,\n    viewBox: \"0 0 19.176 19.176\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"fold_icon\",\n    transform: \"translate(-1516.545 -291.474)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"inside\",\n    transform: \"translate(1535.72 301.063) rotate(135)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"arrow_edge\",\n    d: \"M9.249,10.206H.957A.957.957,0,0,1,0,9.249V.957a.957.957,0,1,1,1.914,0V8.292H9.249a.957.957,0,1,1,0,1.914Zm0,0\",\n    transform: \"translate(0 3.353)\",\n    fill: \"#102334\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"arrow_core\",\n    d: \"M.957,13.559A.957.957,0,0,1,.28,11.924L11.925.28a.957.957,0,0,1,1.353,1.354L1.634,13.278a.954.954,0,0,1-.677.281Zm0,0\",\n    fill: \"#102334\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowIcon);\nexport default __webpack_public_path__ + \"static/media/arrow_icon.a9d92369.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport { css } from \"@emotion/react\";\nimport styled from \"@emotion/styled\";\nimport PropTypes from \"prop-types\";\n\nimport { Input, Output } from \"components\";\nimport { SegmentName, StyledActionButton } from \"./components\";\nimport { PACE, SPEED, DISTANCE, TIME } from \"state/constants\";\nimport { moveSegment, toggleFold } from \"state/actions\";\nimport { getSegmentById, getSegmentIndex } from \"state/selectors\";\n\nimport { ReactComponent as FoldIcon } from \"static/fold_icon.svg\";\nimport { ReactComponent as DeleteIconSvg } from \"static/delete_icon.svg\";\nimport { ReactComponent as ArrowIconSvg } from \"static/arrow_icon.svg\";\nimport { dispatchDeleteSegment } from \"state/middlewares\";\n\nconst Segment = ({\n  id,\n  inputs,\n  folded = false,\n  toggleFold,\n  remove,\n  move,\n  canMoveUp,\n  canMoveDown,\n}) => {\n  const moveUpRef = useRef();\n  const moveDownRef = useRef();\n\n  const options = (fieldType) => {\n    const options = [SPEED.type, PACE.type, DISTANCE.type, TIME.type];\n    return options.filter((option) => {\n      const otherInput = fieldType === inputs[0] ? inputs[1] : inputs[0];\n      return !(\n        option === otherInput ||\n        (otherInput === PACE.type && option === SPEED.type) ||\n        (option === PACE.type && otherInput === SPEED.type)\n      );\n    });\n  };\n\n  const onMoveUp = () => {\n    moveUpRef.current.blur();\n    move(\"UP\");\n  };\n\n  const onMoveDown = () => {\n    moveDownRef.current.blur();\n    move(\"DOWN\");\n  };\n\n  const inputComponents = inputs.map((input) => (\n    <InputContainer key={input}>\n      <Input segmentId={id} type={input} options={options(input)} />\n    </InputContainer>\n  ));\n\n  return (\n    <Container>\n      <SegmentName segmentId={id} />\n      <Core>\n        <H4>Cible</H4>\n        <InputsContainer>{inputComponents}</InputsContainer>\n      </Core>\n      <Summary folded={folded}>\n        <OutputsContainer>\n          <Output key={SPEED.type} segmentId={id} type={SPEED.type} />\n          <Output key={PACE.type} segmentId={id} type={PACE.type} />\n          <Output key={DISTANCE.type} segmentId={id} type={DISTANCE.type} />\n          <Output key={TIME.type} segmentId={id} type={TIME.type} />\n        </OutputsContainer>\n      </Summary>\n      <ActionZone>\n        <StyledActionButton\n          id=\"deleteButton\"\n          className=\"actionButton\"\n          hoverColor=\"error\"\n          hoverStrokeColor=\"white\"\n          onClick={remove}\n          aria-label=\"Supprimer le segment\"\n        >\n          <DeleteIcon />\n        </StyledActionButton>\n        <StyledActionButton\n          ref={moveUpRef}\n          id=\"moveUpButton\"\n          className=\"actionButton\"\n          hoverColor=\"secondary\"\n          hoverStrokeColor=\"body\"\n          onClick={onMoveUp}\n          disabled={!canMoveUp}\n          aria-label=\"Monter le segment\"\n        >\n          <ArrowIcon />\n        </StyledActionButton>\n        <StyledActionButton\n          ref={moveDownRef}\n          id=\"moveDownButton\"\n          className=\"actionButton\"\n          hoverColor=\"secondary\"\n          hoverStrokeColor=\"body\"\n          onClick={onMoveDown}\n          disabled={!canMoveDown}\n          aria-label=\"Descendre le segment\"\n        >\n          <ReversedArrowIcon />\n        </StyledActionButton>\n      </ActionZone>\n      <FoldButton\n        folded={folded}\n        onClick={toggleFold}\n        aria-label=\"Masquer le résumé du segment\"\n      >\n        <FoldIconContainer folded={folded}>\n          <FoldIcon style={FoldIconStyle} />\n        </FoldIconContainer>\n      </FoldButton>\n    </Container>\n  );\n};\n\nSegment.propTypes = {\n  id: PropTypes.number.isRequired,\n  inputs: PropTypes.arrayOf(\n    PropTypes.oneOf([SPEED.type, PACE.type, TIME.type, DISTANCE.type])\n      .isRequired\n  ),\n  folded: PropTypes.bool,\n  toggleFold: PropTypes.func.isRequired,\n  remove: PropTypes.func.isRequired,\n  move: PropTypes.func.isRequired,\n  canMoveUp: PropTypes.bool,\n  canMoveDown: PropTypes.bool,\n};\n\nconst showActionButtons = css`\n  & .actionButton {\n    transform: scale(1);\n    opacity: 1;\n\n    &[disabled] {\n      opacity: 0.3;\n    }\n  }\n`;\n\nconst Container = styled.div`\n  position: relative;\n  width: 100%;\n  max-width: 50em;\n  margin: 2em auto 6em auto;\n  z-index: 0;\n\n  @media (hover: hover) {\n    &:hover {\n      ${showActionButtons}\n    }\n  }\n\n  @media (hover: none) {\n    ${showActionButtons}\n  }\n`;\n\nconst Core = styled.div`\n  position: relative;\n  margin: -1em 0 3em 0;\n  background-color: ${({ theme }) => theme.color.lightGrey};\n  border-radius: 15px 15px 0 0;\n  box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);\n  @media (min-width: ${({ theme }) => theme.bp.md}px) {\n    border-radius: 15px;\n    margin: -1em 2em 3em 2em;\n  }\n`;\n\nconst H4 = styled.h4`\n  position: absolute;\n  color: ${({ theme }) => theme.color.primary};\n  text-transform: uppercase;\n  transform: rotate(-90deg);\n  top: 2em;\n  font-size: 0.8em;\n  @media (max-width: ${({ theme }) => theme.bp.md}px) {\n    display: none;\n  }\n`;\n\nconst Summary = styled.div`\n  box-sizing: border-box;\n  position: absolute;\n  display: flex;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 3.5em;\n  background-color: ${({ theme }) => theme.color.darkGrey};\n  border-radius: 15px;\n  z-index: -10;\n  box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);\n  padding-top: 0.5em;\n\n  transition: transform 150ms ease-in-out;\n  transform: translateY(${({ folded }) => (folded ? 0.5 : 3)}em);\n  overflow-x: auto;\n\n  @media screen and (min-width: ${({ theme }) => theme.bp.md}px) {\n    left: 5.5em;\n  }\n  @media screen and (max-width: ${({ theme }) => theme.bp.md}px) {\n    font-size: 80%;\n    height: 3em;\n    bottom: 0;\n    border-radius: 0 0 15px 15px;\n    padding-top: 0.25em;\n  }\n`;\n\nconst OutputsContainer = styled.div`\n  display: flex;\n  flex: auto;\n  box-sizing: border-box;\n  margin: auto 4em auto 1em;\n  padding-right: 3em;\n`;\n\nconst FoldButton = styled.button`\n  position: absolute;\n  right: 6px;\n  bottom: 0.1em;\n  cursor: pointer;\n\n  transition: transform 150ms ease-in-out;\n  transform: translateY(${({ folded }) => (folded ? 0.3 : 3)}em);\n\n  &:hover {\n    path {\n      fill: ${({ theme }) => theme.color.secondary};\n    }\n    line {\n      stroke: ${({ theme }) => theme.color.secondary};\n    }\n  }\n\n  @media screen and (max-width: ${({ theme }) => theme.bp.md}px) {\n    bottom: 0.8em;\n    transform: translateY(${({ folded }) => (folded ? 0.5 : 3)}em);\n\n    path {\n      fill: ${({ theme, folded }) => (folded ? theme.color.body : \"\")};\n    }\n    line {\n      stroke: ${({ theme, folded }) => (folded ? theme.color.body : \"\")};\n    }\n  }\n\n  border: none;\n  background-color: unset;\n`;\n\nconst FoldIconContainer = styled.div`\n  transition: transform 150ms ease-in-out 150ms;\n  transform: rotate(${({ folded }) => (folded ? -180 : 0)}deg);\n\n  @media screen and (max-width: ${({ theme }) => theme.bp.md}px) {\n    transform: rotate(${({ folded }) => (folded ? -180 : 0)}deg);\n  }\n`;\n\nconst FoldIconStyle = {\n  width: \"0.95em\",\n};\n\nconst InputsContainer = styled.div`\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  justify-content: center;\n  padding: 1em 0 0.5em 0;\n`;\n\nconst InputContainer = styled.div`\n  box-sizing: border-box;\n  background-color: ${({ theme }) => theme.color.white};\n  box-shadow: 0 1px 8px 0px ${({ theme }) => theme.color.mediumGrey};\n  border-radius: 15px;\n  width: 13.75em;\n  height: 100%;\n  padding: 0.1em 0.75em;\n  margin: 6px 12px;\n`;\n\nconst ActionZone = styled.div`\n  position: absolute;\n  top: 0;\n  right: -0.9em;\n  @media screen and (min-width: ${({ theme }) => theme.bp.md}px) {\n    right: 1.1em;\n  }\n`;\n\nconst ActionIcon = styled.svg`\n  width: 0.8em;\n`;\n\nconst DeleteIcon = styled(ActionIcon)`\n  & line {\n    stroke: ${({ theme }) => theme.color.error};\n  }\n`.withComponent(DeleteIconSvg);\n\nconst ArrowIcon = styled(ActionIcon)``.withComponent(ArrowIconSvg);\n\nconst ReversedArrowIcon = styled(ArrowIcon)`\n  transform: rotate(-180deg);\n`;\n\nfunction mapStateToProps(state, ownProps) {\n  const segment = getSegmentById(state, ownProps.id);\n  return {\n    inputs: segment.inputs,\n    folded: segment.folded,\n    canMoveUp: getSegmentIndex(state, ownProps.id) > 0,\n    canMoveDown:\n      getSegmentIndex(state, ownProps.id) < state.segments.length - 1,\n  };\n}\n\nfunction mapDispatchToProps(dispatch, ownProps) {\n  return {\n    toggleFold: () => dispatch(toggleFold(ownProps.id)),\n    remove: () => dispatch(dispatchDeleteSegment(ownProps.id)),\n    move: (direction) => dispatch(moveSegment(ownProps.id, direction)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Segment);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport styled from \"@emotion/styled\";\nimport { Flipper, Flipped } from \"react-flip-toolkit\";\n\nimport { Segment, Total } from \"components\";\nimport { dispatchNewSegment } from \"state/middlewares\";\n\nconst StatConverter = ({ segmentIds, addSegment }) => {\n  const segmentComponents = segmentIds.map((segmentId) => (\n    <Flipped key={segmentId} flipId={segmentId}>\n      <div>\n        <Segment id={segmentId} />\n      </div>\n    </Flipped>\n  ));\n\n  return (\n    <>\n      <Main>\n        <Title>\n          <H1>Votre entraînement</H1>\n        </Title>\n        <Body>\n          <Flipper flipKey={segmentIds.join(\"\")}>\n            <H2>Définissez votre entraînement</H2>\n            <Subtitle>\n              <P>Quel est votre objectif aujourd’hui ?</P>\n              <P>\n                L'outil calcule pour vous les statistiques prévisionnelles de\n                votre entraînement pour vous aider préparer votre itinéraire.\n              </P>\n            </Subtitle>\n            <SegmentsContainer>{segmentComponents}</SegmentsContainer>\n            <Flipped flipId=\"addButton\">\n              <AddButtonContainer>\n                <AddButton onClick={addSegment}>Ajouter une étape</AddButton>\n              </AddButtonContainer>\n            </Flipped>\n          </Flipper>\n        </Body>\n      </Main>\n      <Total />\n    </>\n  );\n};\n\nStatConverter.propTypes = {\n  segmentIds: PropTypes.arrayOf(PropTypes.number),\n  addSegment: PropTypes.func.isRequired,\n};\n\nconst Main = styled.main`\n  display: flex;\n  flex-direction: column;\n  margin: 0 2em;\n  @media (min-width: ${({ theme }) => theme.bp.md}px) {\n    flex-direction: row;\n  }\n  margin-bottom: 8em;\n`;\n\nconst Title = styled.div`\n  display: flex;\n  position: relative;\n  min-height: 5em;\n  @media (min-width: ${({ theme }) => theme.bp.md}px) {\n    height: auto;\n    width: 8em;\n    margin-top: 3em;\n  }\n`;\n\nconst Body = styled.div`\n  width: 100%;\n  height: 100%;\n  @media (min-width: ${({ theme }) => theme.bp.md}px) {\n    height: auto;\n    margin-top: 3em;\n  }\n`;\n\nconst H1 = styled.h1`\n  color: ${({ theme }) => theme.color.body};\n  font-weight: 400;\n  text-transform: uppercase;\n  font-size: 1.25em;\n  margin: auto;\n  opacity: 0.6;\n  @media (min-width: ${({ theme }) => theme.bp.md}px) {\n    position: absolute;\n    text-align: right;\n    transform: rotate(-90deg) translate(-100%, 50%);\n    transform-origin: top left;\n    font-size: 1.5em;\n    letter-spacing: 0.2em;\n    width: 500%;\n    margin: 0;\n  }\n`;\n\nconst H2 = styled.h2`\n  color: ${({ theme }) => theme.color.body};\n  font-weight: bold;\n  font-size: 1.5em;\n  margin: 0;\n  text-align: center;\n`;\n\nconst Subtitle = styled.div`\n  margin: 1em 0;\n`;\n\nconst P = styled.p`\n  text-align: center;\n  opacity: 0.6;\n  color: ${({ theme }) => theme.color.body};\n  margin: 0.5rem 0 0.5rem 0;\n`;\n\nconst SegmentsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 4em 0 2em 0;\n`;\n\nconst AddButtonContainer = styled.div`\n  text-align: center;\n  margin: 2em 0 6em 0;\n`;\n\nconst AddButton = styled.button`\n  position: relative;\n  border-radius: 1.25em;\n  height: 2.5em;\n  background-color: ${({ theme }) => theme.color.body};\n  border: none;\n  color: ${({ theme }) => theme.color.white};\n  text-transform: uppercase;\n  font-size: 0.8em;\n  padding: 0 1.5em 0 3em;\n  cursor: pointer;\n\n  &::before {\n    position: absolute;\n    left: 5px;\n    top: 4px;\n    width: calc(1.65em - 2 * 4px);\n    height: calc(1.65em - 2 * 4px);\n    content: \"+\";\n    display: block;\n    background-color: ${({ theme }) => theme.color.secondary};\n    border-radius: calc((2.5em - 2 * 3px) / 2);\n    color: ${({ theme }) => theme.color.body};\n    font-size: 1.5em;\n    transition: transform 250ms ease-out;\n  }\n\n  &:hover {\n    color: ${({ theme }) => theme.color.secondary};\n    box-shadow: 0px 0px 6px 0.5px ${({ theme }) => theme.color.secondary};\n\n    &::before {\n      transform: rotate(90deg);\n    }\n  }\n\n  &:active {\n    transform: scale(0.98);\n  }\n`;\n\nfunction mapStateToProps(state) {\n  return {\n    segmentIds: state.segments.map((segment) => segment.id),\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addSegment: () => dispatch(dispatchNewSegment()),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StatConverter);\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nimport { Output } from \"components\";\nimport { SPEED, PACE, TIME, DISTANCE } from \"state/constants\";\n\nconst Total = () => {\n  return (\n    <Container>\n      <Title>Totaux</Title>\n      <ScrollZone>\n        <OutputsContainer>\n          <Output type={SPEED.type} />\n          <Output type={PACE.type} />\n          <Output type={DISTANCE.type} />\n          <Output type={TIME.type} />\n        </OutputsContainer>\n      </ScrollZone>\n    </Container>\n  );\n};\n\nTotal.propTypes = {};\n\nconst Container = styled.div`\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 8em;\n  background-color: ${({ theme }) => theme.color.darkGrey};\n  padding: 0;\n  box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);\n`;\n\nconst ScrollZone = styled.div`\n  display: flex;\n  @media (min-width: ${({ theme }) => theme.bp.md}px) {\n    justify-content: center;\n  }\n  overflow-x: auto;\n  height: 100%;\n`;\n\nconst Title = styled.h3`\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0.65em 1em 0.35em 2em;\n  @media (min-width: ${({ theme }) => theme.bp.md}px) {\n    padding: 0.65em 1em 0.35em 4em;\n  }\n  background-color: ${({ theme }) => theme.color.primary};\n  color: ${({ theme }) => theme.color.white};\n  transform: translateY(-50%);\n  text-transform: uppercase;\n  border-radius: 0 12px 12px 0;\n  letter-spacing: 0.1em;\n  box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);\n`;\n\nconst OutputsContainer = styled.div`\n  box-sizing: border-box;\n  margin: auto 4em auto 2em;\n  max-width: 50em;\n  @media (min-width: ${({ theme }) => theme.bp.md}px) {\n    margin: auto 4em auto 2em;\n  }\n  display: flex;\n  flex: auto;\n  font-size: 133%;\n`;\n\nexport default Total;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { ThemeProvider, Global, css } from \"@emotion/react\";\nimport emotionNormalize from \"emotion-normalize\";\n\nimport store from \"./state/store\";\nimport { StatConverter } from \"./components\";\nimport { theme, globalStyles } from \"./styles\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <Provider store={store}>\n    <Global styles={css`${globalStyles}${emotionNormalize}`} />\n    <ThemeProvider theme={theme}>\n      <StatConverter />\n    </ThemeProvider>\n  </Provider>,\n  rootElement\n);\n","export default {\n  color: {\n    body: \"#102234\",\n    primary: \"#A60303\",\n    secondary: \"#61DAFB\",\n    white: \"#FFFFFF\",\n    lightGrey: \"#FAFAFA\",\n    mediumGrey: \"#D5D5D5\",\n    heavyGrey: \"#767676\",\n    darkGrey: \"#102334\",\n    background: \"#EBEBEB\",\n    error: \"#EA0000\"\n  },\n  bp: {\n    xs: 396,\n    sm: 576,\n    md: 768,\n    lg: 992,\n    xl: 1200\n  }\n};\n"],"sourceRoot":""}